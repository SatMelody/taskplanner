/*!
*  filename: ej2-calendars.umd.min.js
*  version : 1.0.25
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@syncfusion/ej2-base"),require("@syncfusion/ej2-popups"),require("@syncfusion/ej2-inputs"),require("@syncfusion/ej2-buttons"),require("@syncfusion/ej2-lists"));else if("function"==typeof define&&define.amd)define(["@syncfusion/ej2-base","@syncfusion/ej2-popups","@syncfusion/ej2-inputs","@syncfusion/ej2-buttons","@syncfusion/ej2-lists"],t);else{var i="object"==typeof exports?t(require("@syncfusion/ej2-base"),require("@syncfusion/ej2-popups"),require("@syncfusion/ej2-inputs"),require("@syncfusion/ej2-buttons"),require("@syncfusion/ej2-lists")):t(e["@syncfusion/ej2-base"],e["@syncfusion/ej2-popups"],e["@syncfusion/ej2-inputs"],e["@syncfusion/ej2-buttons"],e["@syncfusion/ej2-lists"]);for(var s in i)("object"==typeof exports?exports:e)[s]=i[s]}}(this,function(e,t,i,s,a){return function(e){function t(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var s,a;s=[i,t,i(1),i(4),i(8),i(12)],void 0!==(a=function(e,t,i,s,a,n){"use strict";function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),r(i),r(s),r(a),r(n)}.apply(t,s))&&(e.exports=a)},function(e,t,i){var s,a;s=[i,t,i(2)],void 0!==(a=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i)}.apply(t,s))&&(e.exports=a)},function(e,t,i){var s,a,n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),r=this&&this.__decorate||function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};s=[i,t,i(3),i(3),i(3),i(3),i(3)],void 0!==(a=function(e,t,i,s,a,l,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h="e-calendar",d="e-disabled",p="e-overlay",u="e-other-month",c="e-selected",v="e-focused-date",m=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.effect="",s.keyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end"},s}return n(t,e),t.prototype.render=function(){this.globalize=new i.Internationalization(this.locale),"calendar"===this.getModuleName()?(this.element.classList.add(h),this.enableRtl&&this.element.classList.add("e-rtl"),o.Browser.isDevice&&this.element.classList.add("e-device"),l.attributes(this.element,{"data-role":"calendar"})):(this.calendarElement=l.createElement("div"),this.calendarElement.classList.add(h),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),o.Browser.isDevice&&this.calendarElement.classList.add("e-device"),l.attributes(this.calendarElement,{role:"calendar"})),this.processDate(),this.header(),this.content(),this.wireEvents()},t.prototype.processDate=function(){this.validateDate(),this.minMaxUpdate()},t.prototype.validateDate=function(){this.setProperties({value:new Date(""+this.value)},!0),this.currentDate=this.currentDate?this.currentDate:new Date,!o.isNullOrUndefined(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(""+this.value)),isNaN(+this.value)&&this.setProperties({value:null},!0)},t.prototype.minMaxUpdate=function(){this.min<=this.max?l.removeClass([this.element],p):(this.setProperties({min:this.min},!0),l.addClass([this.element],p)),this.min=o.isNullOrUndefined(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=o.isNullOrUndefined(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,!o.isNullOrUndefined(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!o.isNullOrUndefined(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value}),this.min<=this.max&&this.value&&this.value<=this.max&&this.value>=this.min?this.currentDate=new Date(""+this.value):this.min<=this.max&&!this.value&&this.currentDate>this.max?this.currentDate=new Date(""+this.max):this.currentDate<this.min&&(this.currentDate=new Date(""+this.min))},t.prototype.header=function(){var e={"aria-disabled":"false",role:"button","aria-label":"previous month"},t={"aria-disabled":"false",role:"button","aria-label":"next month"},i={"aria-atomic":"true","aria-live":"assertive","aria-label":"title",role:"button"};this.headerElement=l.createElement("div",{className:"e-header"});var s=l.createElement("div",{className:"e-icon-container"});this.previousIcon=l.createElement("a",{className:"e-prev"}),a.rippleEffect(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),l.attributes(this.previousIcon,e),this.nextIcon=l.createElement("a",{className:"e-next"}),a.rippleEffect(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),l.attributes(this.nextIcon,t),this.headerTitleElement=l.createElement("a",{className:"e-day e-title",attrs:{}}),l.attributes(this.headerTitleElement,i),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(l.createElement("span",{className:"e-date-icon-prev e-icons"})),this.nextIcon.appendChild(l.createElement("span",{className:"e-date-icon-next  e-icons"})),s.appendChild(this.previousIcon),s.appendChild(this.nextIcon),this.headerElement.appendChild(s),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement)},t.prototype.content=function(){this.previousDate=this.value,this.contentElement=l.createElement("div",{className:"e-content"}),this.table=l.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.contentHdr(),this.contentBody()},t.prototype.getCultureValues=function(){var e,t=[];e="en"===this.locale||"en-US"===this.locale?o.getValue("days.stand-alone.short",a.getDefaultDateObject()):this.getCultureObjects(a.cldrData,""+this.locale);for(var i=0,s=Object.keys(e);i<s.length;i++){var n=s[i];t.push(o.getValue(n,e))}return t},t.prototype.contentHdr=function(){"calendar"===this.getModuleName()?o.isNullOrUndefined(this.element.querySelectorAll(".e-content .e-week-header")[0])||l.detach(this.element.querySelectorAll(".e-content .e-week-header")[0]):o.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||l.detach(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var e,t="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=l.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(t+='<th class="e-week-number"></th>'),e=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(var i=0;i<=6;i++)t+='<th  class="">'+e[i]+"</th>";t="<tr>"+t+"</tr>",this.tableHeadElement.innerHTML=t,this.table.appendChild(this.tableHeadElement)},t.prototype.contentBody=function(){switch("calendar"===this.getModuleName()?o.isNullOrUndefined(this.element.querySelectorAll(".e-content tbody")[0])||l.detach(this.element.querySelectorAll(".e-content tbody")[0]):o.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content tbody")[0])||l.detach(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"year":this.renderYears();break;case"decade":this.renderDecades();break;default:this.renderMonths()}},t.prototype.wireEvents=function(){i.EventHandler.add(this.headerTitleElement,"click",this.navTitle,this),"calendar"===this.getModuleName()?this.keyboardModule=new s.KeyboardEvents(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs}):this.keyboardModule=new s.KeyboardEvents(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs})},t.prototype.keyActionHandle=function(e){var t=this.getViewNumber(this.currentView()),i=this.tableBodyElement.querySelector("tr td.e-focused-date"),s=this.tableBodyElement.querySelector("tr td.e-selected"),a=this.getViewNumber(this.depth),n=t===a&&this.getViewNumber(this.start)>=a;switch(this.effect="",e.action){case"moveLeft":this.KeyboardNavigate(-1,t,e),e.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,t,e),e.preventDefault();break;case"moveUp":0===t?this.KeyboardNavigate(-7,t,e):this.KeyboardNavigate(-4,t,e),e.preventDefault();break;case"moveDown":0===t?this.KeyboardNavigate(7,t,e):this.KeyboardNavigate(4,t,e),e.preventDefault();break;case"select":if(!o.isNullOrUndefined(i)||!o.isNullOrUndefined(s))if(n){var r=new Date(parseInt(""+(i||s).id,0));this.selectDate(e,r,i||s)}else this.contentClick(null,--t,i||s);break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":o.isNullOrUndefined(i)&&(o.isNullOrUndefined(s)||n)||this.contentClick(null,--t,i||s),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),l.detach(this.tableBodyElement),this.renderMonths(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate),l.detach(this.tableBodyElement),this.renderMonths(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}},t.prototype.KeyboardNavigate=function(e,t,i){var s=new Date(""+this.currentDate);switch(t){case 2:this.addYears(this.currentDate,e),this.isMinMaxRange(this.currentDate)?(l.detach(this.tableBodyElement),this.renderDecades(i)):this.currentDate=s;break;case 1:this.addMonths(this.currentDate,e),this.isMinMaxRange(this.currentDate)?(l.detach(this.tableBodyElement),this.renderYears(i)):this.currentDate=s;break;case 0:this.addDay(this.currentDate,e),this.isMinMaxRange(this.currentDate)?(l.detach(this.tableBodyElement),this.renderMonths(i)):this.currentDate=s}},t.prototype.preRender=function(){var e=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.changeHandler=function(t){e.triggerChange(t)},this.navigateHandler=function(t){e.triggerNavigate(t)}},t.prototype.renderMonths=function(e){var t=[],s=new Date(""+this.currentDate),a=this.weekNumber?8:7,n=s.getMonth();this.titleUpdate(this.currentDate,"days");var r=s;for(s=new Date(r.getFullYear(),r.getMonth(),0,r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds());s.getDay()!==this.firstDayOfWeek;)this.setTime(s,-864e5);for(var o=0;o<42;++o){var h=l.createElement("td",{className:"e-cell"}),m=l.createElement("span");o%7==0&&this.weekNumber&&(m.textContent=""+this.getWeek(s),h.appendChild(m),l.addClass([h],"e-week-number"),t.push(h));var f={type:"dateTime",skeleton:"full"},y=this.globalize.parseDate(this.globalize.formatDate(s,f),f),g=this.dayCell(s),b=this.globalize.formatDate(s,{type:"date",skeleton:"full"}),D=l.createElement("span");D.textContent=this.globalize.formatDate(s,{type:"date",skeleton:"d"});var C=this.min>s||this.max<s;C?(l.addClass([g],d),l.addClass([g],p)):D.setAttribute("title",""+b),n!==s.getMonth()&&l.addClass([g],u),0!==s.getDay()&&6!==s.getDay()||l.addClass([g],"e-weekend"),this.renderDaycellArg={date:s,isDisabled:!1,element:D,isOutOfRange:C};var E=this.renderDaycellArg;this.renderDayCellEvent(E),E.isDisabled&&this.value&&+this.value==+E.date&&this.setProperties({value:null},!0),this.renderDaycellArg.isDisabled&&!g.classList.contains(c)&&(l.addClass([g],d),l.addClass([g],p));var w=g.classList.contains(u),N=g.classList.contains(d);N||i.EventHandler.add(g,"click",this.clickHandler,this),E.isDisabled&&+this.value==+E.date&&this.setProperties({value:null},!0),w||N||!this.getDateVal(s)?this.currentDate.getDate()!==s.getDate()||w||N?(this.currentDate>=this.max&&parseInt(g.id,0)===+this.max&&!w&&!N&&l.addClass([g],v),this.currentDate<=this.min&&parseInt(g.id,0)===+this.min&&!w&&!N&&l.addClass([g],v)):l.addClass([g],v):l.addClass([g],c),y.getMonth()===(new Date).getMonth()&&y.getDate()===(new Date).getDate()&&y.getFullYear()===(new Date).getFullYear()&&l.addClass([g],"e-today"),g.appendChild(this.renderDaycellArg.element),t.push(g),this.addDay(s,1)}this.contentHdr(),this.renderTemplate(t,a,"e-month",e)},t.prototype.renderYears=function(e){this.removeTheadEle();var t=[],s=o.isNullOrUndefined(this.value),a=new Date(""+this.currentDate),n=a.getMonth(),r=a.getFullYear(),h=a,p=h.getFullYear(),u=new Date(""+this.min).getFullYear(),m=new Date(""+this.min).getMonth(),f=new Date(""+this.max).getFullYear(),y=new Date(""+this.max).getMonth();h.setMonth(0),this.titleUpdate(this.currentDate,"months");this.min>h||this.max;h.setDate(1);for(var g=0;g<12;++g){var b=this.dayCell(h),D=l.createElement("span"),C=this.value&&this.value.getMonth()===h.getMonth(),E=this.value&&this.value.getFullYear()===r&&C;D.textContent=this.globalize.formatDate(h,{type:"dateTime",skeleton:"MMM"}),this.min&&(p<u||g<m&&p===u)||this.max&&(p>f||g>y&&p>=f)?l.addClass([b],d):!s&&E?l.addClass([b],c):h.getMonth()===n&&this.currentDate.getMonth()===n&&l.addClass([b],v),h.setDate(1),h.setMonth(h.getMonth()+1),b.classList.contains(d)||i.EventHandler.add(b,"click",this.clickHandler,this),b.appendChild(D),t.push(b)}this.renderTemplate(t,4,"e-year",e)},t.prototype.renderDecades=function(e){this.removeTheadEle();var t=[],s=new Date(""+this.currentDate);s.setMonth(0),s.setDate(1);var a=s.getFullYear(),n=new Date(""+(a-a%10)),r=new Date(""+(a-a%10+9)),h=this.globalize.formatDate(n,{type:"dateTime",skeleton:"y"}),p=this.globalize.formatDate(r,{type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=h+" - "+p;for(var u=new Date(a-a%10-1,0,1),m=u.getFullYear(),f=0;f<12;++f){var y=m+f;s.setFullYear(y);var g=this.dayCell(s);l.attributes(g,{role:"gridcell"});var b=l.createElement("span");b.textContent=this.globalize.formatDate(s,{type:"dateTime",skeleton:"y"}),y<new Date(""+this.min).getFullYear()||y>new Date(""+this.max).getFullYear()?l.addClass([g],d):o.isNullOrUndefined(this.value)||s.getFullYear()!==this.value.getFullYear()?s.getFullYear()!==this.currentDate.getFullYear()||g.classList.contains(d)||l.addClass([g],v):l.addClass([g],c),g.classList.contains(d)||i.EventHandler.add(g,"click",this.clickHandler,this),g.appendChild(b),t.push(g)}this.renderTemplate(t,4,"e-decade",e)},t.prototype.dayCell=function(e){var t={skeleton:"full",type:"dateTime"},i=this.globalize.parseDate(this.globalize.formatDate(e,t),t),s=i.valueOf(),a={className:"e-cell",attrs:{id:""+o.getUniqueID(""+s),"aria-selected":"false",role:"gridcell"}};return l.createElement("td",a)},t.prototype.firstDay=function(e){return new Date(e.getFullYear(),e.getMonth())},t.prototype.lastDay=function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),i=Math.abs(t.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return i&&t.setHours(this.firstDay(e).getHours()+i/60),t},t.prototype.removeTheadEle=function(){"calendar"===this.getModuleName()?o.isNullOrUndefined(this.element.querySelectorAll(".e-content table thead")[0])||l.detach(this.tableHeadElement):o.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content table thead")[0])||l.detach(this.tableHeadElement)},t.prototype.renderTemplate=function(e,t,i,s){var n,r=this.getViewNumber(this.currentView());this.tableBodyElement=l.createElement("tbody"),this.table.appendChild(this.tableBodyElement),l.removeClass([this.contentElement,this.headerElement],["e-month","e-decade","e-year"]),l.addClass([this.contentElement,this.headerElement],[i]);for(var h=t,d=0,p=0;p<e.length/t;++p){for(n=l.createElement("tr",{attrs:{role:"row"}}),d=0+d;d<h;d++)e[d].classList.contains("e-week-number")||o.isNullOrUndefined(e[d].children[0])||(l.addClass([e[d].children[0]],["e-day"]),a.rippleEffect(e[d].children[0],{duration:600,isCenterRipple:!0})),n.appendChild(e[d]),!this.weekNumber&&6===d&&e[6].classList.contains(u)&&l.addClass([n],"e-month-hide"),this.weekNumber?41===d&&e[41].classList.contains(u)&&l.addClass([n],"e-month-hide"):35===d&&e[35].classList.contains(u)&&l.addClass([n],"e-month-hide");h+=t,d+=0,this.tableBodyElement.appendChild(n)}this.table.querySelector("tbody").className=this.effect,this.iconHandler(),this.changedArgs={value:this.value},(r!==this.getViewNumber(this.currentView())||0===r&&r!==this.getViewNumber(this.currentView()))&&this.navigateHandler(s),this.setAriaActivedescendant(),this.changeHandler()},t.prototype.clickHandler=function(e){var t=e.currentTarget;e.preventDefault();var i=this.getViewNumber(this.currentView());t.classList.contains(u)?(this.value=this.getIdValue(e,null),this.contentClick(e,0,null)):i===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(e,1,null):2===i?this.contentClick(e,1,null):t.classList.contains(u)||0!==i?this.contentClick(e,0,t):this.selectDate(e,this.getIdValue(e,null),null)},t.prototype.contentClick=function(e,t,i){var s=this.getViewNumber(this.currentView()),a=this.getIdValue(e,i);switch(t){case 0:s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(l.detach(this.tableBodyElement),this.currentDate=a,this.effect="e-zoomin",this.renderMonths(e)):(this.currentDate.setMonth(a.getMonth()),a.getMonth()>0&&this.currentDate.getMonth()!==a.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(a.getFullYear()),this.effect="e-zoomin",l.detach(this.tableBodyElement),this.renderMonths(e));break;case 1:s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.selectDate(e,a,null):(this.currentDate.setFullYear(a.getFullYear()),this.effect="e-zoomin",l.detach(this.tableBodyElement),this.renderYears(e))}},t.prototype.switchView=function(e,t){switch(e){case 0:l.detach(this.tableBodyElement),this.renderMonths(t);break;case 1:l.detach(this.tableBodyElement),this.renderYears(t);break;case 2:l.detach(this.tableBodyElement),this.renderDecades(t)}},t.prototype.getModuleName=function(){return"calendar"},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.onPropertyChanged=function(e,t){this.effect="";for(var s=0,a=Object.keys(e);s<a.length;s++){switch(a[s]){case"value":isNaN(+this.value)&&this.setProperties({value:t.value},!0),this.validateDate(),this.minMaxUpdate(),this.setvalue();break;case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"weekNumber":case"firstDayOfWeek":this.contentHdr(),this.contentBody();break;case"min":case"max":this.setProperties({start:this.currentView()},!0),l.detach(this.tableBodyElement),this.minMaxUpdate(),this.contentBody();break;case"locale":this.globalize=new i.Internationalization(this.locale),this.contentHdr(),this.contentBody()}}},t.prototype.setvalue=function(){this.tableBodyElement.remove(),this.setProperties({start:this.currentView()},!0),this.contentBody()},t.prototype.titleUpdate=function(e,t){var s=new i.Internationalization(this.locale);switch(t){case"days":this.headerTitleElement.textContent=s.formatDate(e,{type:"dateTime",skeleton:"yMMMM"});break;case"months":this.headerTitleElement.textContent=s.formatDate(e,{type:"dateTime",skeleton:"y"})}},t.prototype.setActiveDescendant=function(){var e,t=this.tableBodyElement.querySelector("tr td.e-focused-date"),i=this.tableBodyElement.querySelector("tr td.e-selected"),s=this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"full"});return(i||t)&&((t||i).setAttribute("aria-selected","true"),(t||i).setAttribute("aria-label","The current focused date is "+s),e=(t||i).getAttribute("id")),e},t.prototype.iconHandler=function(){switch(new Date(""+this.currentDate).setDate(1),this.currentView()){case"month":this.previousIconHandler(this.compareMonth(new Date(""+this.currentDate),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(""+this.currentDate),this.max)>-1);break;case"year":this.previousIconHandler(this.compareYear(new Date(""+this.currentDate),this.min)<1),this.nextIconHandler(this.compareYear(new Date(""+this.currentDate),this.max)>-1);break;case"decade":this.previousIconHandler(this.compareDecade(new Date(""+this.currentDate),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(""+this.currentDate),this.max)>-1)}},t.prototype.destroy=function(){"calendar"===this.getModuleName()?this.element.classList.remove(h):this.calendarElement.classList.remove(h),i.EventHandler.remove(this.headerTitleElement,"click",this.navTitle),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.innerHTML="",e.prototype.destroy.call(this)},t.prototype.title=function(e){var t=this.getViewNumber(this.currentView());this.effect="e-zoomin",this.switchView(++t,e)},t.prototype.getViewNumber=function(e){return"month"===e?0:"year"===e?1:2},t.prototype.navTitle=function(e){this.title(e),this.table.focus()},t.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"decade":this.addYears(this.currentDate,-10),this.switchView(e)}},t.prototype.navigatePrevious=function(e){this.previous(),this.triggerNavigate(e),this.table.focus()},t.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"year":this.addYears(this.currentDate,1),this.switchView(e);break;case"decade":this.addYears(this.currentDate,10),this.switchView(e)}},t.prototype.navigateNext=function(e){this.next(),this.triggerNavigate(e),this.table.focus()},t.prototype.navigateTo=function(e,t){this.minMaxUpdate(),+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(""+this.min)),+t>=+this.max&&(this.currentDate=new Date(""+this.max)),this.switchView(this.getViewNumber(e))},t.prototype.currentView=function(){return this.contentElement.classList.contains("e-year")?"year":this.contentElement.classList.contains("e-decade")?"decade":"month"},t.prototype.getDateVal=function(e){return!o.isNullOrUndefined(this.value)&&e.getDate()===this.value.getDate()&&e.getMonth()===this.value.getMonth()&&e.getFullYear()===this.value.getFullYear()},t.prototype.getCultureObjects=function(e,t){return o.getValue("main."+this.locale+".dates.calendars.gregorian.days.format.short",e)},t.prototype.getWeek=function(e){var t=new Date(""+e).valueOf(),i=new Date(e.getFullYear(),0,1).valueOf(),s=t-i;return Math.ceil((s/864e5+new Date(i).getDay()+1)/7)},t.prototype.setTime=function(e,t){var i=e.getTimezoneOffset(),s=new Date(e.getTime()+t),a=s.getTimezoneOffset()-i;e.setTime(s.getTime()+864e5*a)},t.prototype.addMonths=function(e,t){var i=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,this.getMaxDays(e)))},t.prototype.addYears=function(e,t){var i=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,this.getMaxDays(e)))},t.prototype.getIdValue=function(e,t){var i;i=e?e.currentTarget:t;var s={type:"dateTime",skeleton:"full"},a=this.globalize.formatDate(new Date(parseInt(""+i.getAttribute("id"),0)),s);this.globalize.parseDate(a,s);return this.globalize.parseDate(a,s)},t.prototype.selectDate=function(e,t,i){var s=i||e.currentTarget;"decade"===this.currentView()?this.setDateDecade(this.currentDate,t.getFullYear()):"year"===this.currentView()?this.setDateYear(this.currentDate,t):(this.setProperties({value:new Date(""+t)},!0),this.currentDate=new Date(""+t));var a=l.closest(s,"."+h);o.isNullOrUndefined(a)&&(a=this.tableBodyElement),o.isNullOrUndefined(a.querySelector("."+c))||l.removeClass([a.querySelector("."+c)],c),o.isNullOrUndefined(a.querySelector("."+v))||l.removeClass([a.querySelector("."+v)],v),l.addClass([s],c),this.changedArgs={value:this.value},this.changeHandler(e)},t.prototype.setAriaActivedescendant=function(){l.attributes(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},t.prototype.previousIconHandler=function(e){e?(i.EventHandler.remove(this.previousIcon,"click",this.navigatePreviousHandler),l.addClass([this.previousIcon],""+d),l.addClass([this.previousIcon],""+p),this.previousIcon.setAttribute("aria-disabled","true")):(i.EventHandler.add(this.previousIcon,"click",this.navigatePreviousHandler),l.removeClass([this.previousIcon],""+d),l.removeClass([this.previousIcon],""+p),this.previousIcon.setAttribute("aria-disabled","false"))},t.prototype.renderDayCellEvent=function(e){o.extend(this.renderDaycellArg,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.navigatedEvent=function(e){o.extend(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},t.prototype.changeEvent=function(e){this.trigger("change",this.changedArgs)},t.prototype.triggerChange=function(e){this.changedArgs.event=e,o.isNullOrUndefined(this.value)||this.setProperties({value:this.value},!0),+this.value!==Number.NaN&&+this.value!=+this.previousDate&&this.changeEvent(e),this.previousDate=this.value},t.prototype.nextIconHandler=function(e){e?(i.EventHandler.remove(this.nextIcon,"click",this.navigateNextHandler),l.addClass([this.nextIcon],d),l.addClass([this.nextIcon],p),this.nextIcon.setAttribute("aria-disabled","true")):(i.EventHandler.add(this.nextIcon,"click",this.navigateNextHandler),l.removeClass([this.nextIcon],d),l.removeClass([this.nextIcon],p),this.nextIcon.setAttribute("aria-disabled","false"))},t.prototype.compare=function(e,t,i){var s,a,n=t.getFullYear();return s=n,a=0,i&&(n-=n%i,s=n-n%i+i-1),e.getFullYear()>s?a=1:e.getFullYear()<n&&(a=-1),a},t.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},t.prototype.compareYear=function(e,t){return this.compare(e,t,0)},t.prototype.compareDecade=function(e,t){return this.compare(e,t,10)},t.prototype.shiftArray=function(e,t){return e.slice(t).concat(e.slice(0,t))},t.prototype.addDay=function(e,t){e.setDate(e.getDate()+t)},t.prototype.getMaxDays=function(e){var t,i,s=new Date(""+e);for(t=28,i=s.getMonth();s.getMonth()===i;)++t,s.setDate(t);return t-1},t.prototype.setDateDecade=function(e,t){e.setFullYear(t),this.setProperties({value:new Date(""+e)},!0)},t.prototype.setDateYear=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&e.setDate(0),this.setProperties({value:new Date(""+e)},!0),this.currentDate=new Date(""+this.value)},t.prototype.compareMonth=function(e,t){return e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1},t}(i.Component);r([i.Property(null)],m.prototype,"value",void 0),r([i.Property(new Date(1900,0,1))],m.prototype,"min",void 0),r([i.Property(new Date(2099,11,31))],m.prototype,"max",void 0),r([i.Property(0)],m.prototype,"firstDayOfWeek",void 0),r([i.Property("month")],m.prototype,"start",void 0),r([i.Property("month")],m.prototype,"depth",void 0),r([i.Property(!1)],m.prototype,"weekNumber",void 0),r([i.Event()],m.prototype,"created",void 0),r([i.Event()],m.prototype,"destroyed",void 0),r([i.Event()],m.prototype,"change",void 0),r([i.Event()],m.prototype,"navigated",void 0),r([i.Event()],m.prototype,"renderDayCell",void 0),m=r([s.NotifyPropertyChanges],m),t.Calendar=m,t.calendarBuilder=i.CreateBuilder(m)}.apply(t,s))&&(e.exports=a)},function(t,i){t.exports=e},function(e,t,i){var s,a;s=[i,t,i(5)],void 0!==(a=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i)}.apply(t,s))&&(e.exports=a)},function(e,t,i){var s,a,n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),r=this&&this.__decorate||function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};s=[i,t,i(3),i(3),i(3),i(3),i(6),i(7),i(2)],void 0!==(a=function(e,t,i,s,a,l,o,h,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p="e-datepicker",u=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.previousEleValue="",s.isDateIconClicked=!1,s.keyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",tab:"tab"},s.calendarKeyConfigs={escape:"escape",enter:"enter",tab:"tab"},s}return n(t,e),t.prototype.render=function(){this.initialize(),this.bindEvents()},t.prototype.initialize=function(){this.createInput(),this.updateInput(),this.previousEleValue=this.inputEle.value},t.prototype.createInput=function(){var e={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.inputEle.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"},t={placeholder:null};this.globalize=new i.Internationalization(this.locale),this.l10n=new s.L10n("datepicker",t,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.inputWrapper=h.Input.createInput({element:this.inputEle,customTag:this.ngTag,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl},buttons:["e-input-group-icon e-date-icon e-icons"]}),this.setWidth(this.width),""!==this.inputEle.name?this.inputEle.setAttribute("name",""+this.inputEle.getAttribute("name")):this.inputEle.setAttribute("name",""+this.inputEle.id),a.attributes(this.inputEle,e),
this.enabled||this.inputEle.setAttribute("aria-disabled","true"),h.Input.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),a.addClass([this.inputWrapper.container],"e-date-wrapper")},t.prototype.updateInput=function(){if(this.value&&!this.isCalendar()&&this.disabledDates(),+new Date(""+this.value)){var t={format:this.format,type:"dateTime",skeleton:"yMd"},i=this.globalize.formatDate(this.value,t);this.setProperties({value:this.globalize.parseDate(i,t)},!0)}if(this.strictMode&&e.prototype.processDate.call(this),!l.isNullOrUndefined(this.value)){var s=this.value,i=this.globalize.formatDate(this.value,{format:this.format,type:"dateTime",skeleton:"yMd"});if(+s<=+this.max&&+s>=+this.min)h.Input.setValue(i,this.inputEle,this.floatLabelType,!1);else{var a=+s>=+this.max||!+this.value||!+this.value||+s<=+this.min;!this.strictMode&&a&&(h.Input.setValue(i,this.inputEle,this.floatLabelType,!1),this.setProperties({value:null},!0))}}l.isNullOrUndefined(this.value)&&this.strictMode&&h.Input.setValue("",this.inputEle,this.floatLabelType,!1),this.changedArgs={value:this.value},this.errorClass()},t.prototype.bindEvents=function(){this.enabled?(i.EventHandler.add(this.inputWrapper.buttons[0],"click",this.dateIconHandler,this),i.EventHandler.add(this.inputEle,"focus",this.inputFocusHandler,this),i.EventHandler.add(this.inputEle,"blur",this.inputBlurHandler,this),s.Browser.isAndroid||i.EventHandler.add(this.inputWrapper.buttons[0],"blur",this.iconBlurHandler,this)):(i.EventHandler.remove(this.inputWrapper.buttons[0],"click",this.dateIconHandler),i.EventHandler.remove(this.inputEle,"focus",this.inputFocusHandler),i.EventHandler.remove(this.inputEle,"blur",this.inputBlurHandler),s.Browser.isAndroid||i.EventHandler.remove(this.inputWrapper.buttons[0],"blur",this.iconBlurHandler)),this.keyboardModules=new s.KeyboardEvents(this.inputEle,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.keyConfigs})},t.prototype.dateIconHandler=function(){this.isCalendar()?this.hide():(this.isDateIconClicked=!0,this.show(),s.Browser.isDevice||this.addIconTabindex(),a.addClass(this.inputWrapper.buttons,"e-active"))},t.prototype.iconBlurHandler=function(){l.isNullOrUndefined(this.inputWrapper.container.children[1])||this.removeIconTabindex(),l.isNullOrUndefined(this.calendarKeyboardModules)||this.calendarKeyboardModules.destroy()},t.prototype.CalendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide():(this.inputWrapper.container.children[1].blur(),this.iconBlurHandler());break;case"enter":this.isCalendar()?+this.value!=+this.currentDate&&(this.addIconTabindex(),this.inputWrapper.container.children[1].focus()):this.show();break;case"tab":this.hide()}},t.prototype.inputFocusHandler=function(){this.isDateIconClicked=!1,this.trigger("focus")},t.prototype.inputBlurHandler=function(){this.strictModeUpdate(),this.updateInput(),this.changeTrigger(),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputEle&&this.hide(),this.inputEle.blur(),this.trigger("blur"),this.isCalendar()&&(this.calendarKeyboardModules=new s.KeyboardEvents(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.calendarKeyConfigs}))},t.prototype.documentHandler=function(e){var t=e.target;a.closest(t,".e-datepicker.e-popup-wrapper")||a.closest(t,".e-input-group")===this.inputWrapper.container||(s.Browser.isDevice||this.iconBlurHandler(),this.hide())},t.prototype.removeIconTabindex=function(){this.inputWrapper.container.children[1].removeAttribute("tabindex")},t.prototype.addIconTabindex=function(){a.attributes(this.inputWrapper.container.children[1],{tabindex:"0"})},t.prototype.inputKeyActionHandle=function(t){switch(t.action){case"altUpArrow":this.hide(),this.inputEle.focus();break;case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.show();break;case"escape":this.hide();break;case"enter":this.strictModeUpdate(),this.updateInput(),this.changeTrigger(),this.errorClass(),this.isCalendar()||document.activeElement!==this.inputEle||this.hide();break;case"tab":this.strictModeUpdate(),this.updateInput(),this.changeTrigger(),this.errorClass(),this.hide();break;default:this.isCalendar()&&e.prototype.keyActionHandle.call(this,t)}},t.prototype.strictModeUpdate=function(){var e={format:this.format,type:"dateTime",skeleton:"yMd"},t=this.globalize.parseDate(this.inputEle.value,e);this.strictMode&&t?(h.Input.setValue(this.globalize.formatDate(t,e),this.inputEle,this.floatLabelType,!1),this.setProperties({value:t},!0)):this.strictMode||this.setProperties({value:t},!0),this.strictMode&&!t&&""===this.inputEle.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0)},t.prototype.createCalendar=function(){var e=this;this.popupWrapper=a.createElement("div",{className:p+" e-popup-wrapper"}),document.body.appendChild(this.popupWrapper),s.Browser.isDevice&&(this.modal=a.createElement("div"),document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new o.Popup(this.popupWrapper,{content:this.calendarElement,relateTo:s.Browser.isDevice?document.body:this.inputWrapper.container,position:s.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,collision:!s.Browser.isDevice&&{X:"flip",Y:"flip"},open:function(){document.activeElement===e.inputEle||s.Browser.isDevice||(e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new s.KeyboardEvents(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.CalendarKeyActionHandle.bind(e),keyConfigs:e.calendarKeyConfigs}),e.calendarKeyboardModules=new s.KeyboardEvents(e.inputWrapper.container.children[1],{eventName:"keydown",keyAction:e.CalendarKeyActionHandle.bind(e),keyConfigs:e.calendarKeyConfigs})),i.EventHandler.add(document,"mousedown touchstart",e.documentHandler,e)},close:function(){s.Browser.isDevice||(e.isDateIconClicked?(e.addIconTabindex(),e.inputWrapper.container.children[1].focus()):e.iconBlurHandler()),i.EventHandler.remove(document,"mousedown touchstart",e.documentHandler),e.value&&e.disabledDates(),e.popupObj.destroy(),a.detach(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.setAriaAttributes()}}),this.setAriaAttributes(),s.Browser.isDevice&&(this.modelHdr(),this.modal.className=p+" e-date-modal",document.body.className+=" e-date-overflow")},t.prototype.modelHdr=function(){var e=a.createElement("div",{className:"e-model-header"}),t=a.createElement("h5",{className:"e-model-year"}),i=a.createElement("div"),s=a.createElement("span",{className:"e-model-day"}),n=a.createElement("span",{className:"e-model-month"});t.textContent=""+this.globalize.formatDate(this.value||new Date,{format:"y",skeleton:"dateTime"}),s.textContent=this.globalize.formatDate(this.value||new Date,{format:"E",skeleton:"dateTime"})+", ",n.textContent=""+this.globalize.formatDate(this.value||new Date,{format:"MMM d",skeleton:"dateTime"}),e.appendChild(t),i.appendChild(s),i.appendChild(n),e.appendChild(i),this.popupWrapper.insertBefore(e,this.popupWrapper.firstElementChild)},t.prototype.changeTrigger=function(){this.inputEle.value!==this.previousEleValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.changedArgs.value=this.value,this.previousDate=this.value,this.trigger("change",this.changedArgs),this.previousEleValue=this.inputEle.value)},t.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},t.prototype.changeEvent=function(e){this.selectCalendar(e),this.trigger("change",this.changedArgs),this.previousDate=this.value},t.prototype.selectCalendar=function(e){var t;this.value&&(t=this.globalize.formatDate(this.changedArgs.value,{format:this.format,type:"dateTime",skeleton:"yMd"})),h.Input.setValue(t,this.inputEle,this.floatLabelType,!1),this.hide(),this.previousEleValue=this.inputEle.value,this.errorClass()},t.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-popup-wrapper"))},t.prototype.setWidth=function(e){this.inputWrapper.container.style.width="number"==typeof e?e+"px":"string"==typeof e?e:this.inputWrapper.container.offsetWidth+"px"},t.prototype.show=function(){var t={popupElement:this.popupObj},i=!0;if(this.isCalendar()||(e.prototype.render.call(this),this.createCalendar()),this.preventArgs={preventDefault:function(){i=!1}},l.merge(t,this.preventArgs),this.trigger("open",t),i){a.addClass(this.inputWrapper.buttons,"e-active"),document.body.appendChild(this.popupObj.element),this.popupObj.refreshPosition();var n={name:"FadeIn",duration:s.Browser.isDevice?0:300};this.popupObj.show(new s.Animation(n)),this.setAriaAttributes(),s.Browser.isDevice&&(this.modal.style.display="block")}else a.detach(this.popupWrapper),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null},t.prototype.hide=function(){var e={popupElement:this.popupObj};this.preventArgs={preventDefault:function(){t=!1}};var t=!0;if(a.removeClass(this.inputWrapper.buttons,"e-active"),a.removeClass([document.body],"e-date-overflow"),l.merge(e,this.preventArgs),this.trigger("close",e),this.isCalendar()&&t){this.popupObj.hide(),this.keyboardModule.destroy(),a.removeClass(this.inputWrapper.buttons,"e-active")}this.setAriaAttributes(),this.previousEleValue=this.inputEle.value,s.Browser.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},t.prototype.focusIn=function(){this.inputEle.focus(),a.addClass([this.inputWrapper.container],["e-input-focus"]),this.trigger("focus")},t.prototype.focusOut=function(){this.inputEle.blur(),a.removeClass([this.inputWrapper.container],["e-input-focus"]),this.trigger("blur")},t.prototype.currentView=function(){var t;return this.calendarElement&&(t=e.prototype.currentView.call(this)),t},t.prototype.navigateTo=function(t,i){this.calendarElement&&e.prototype.navigateTo.call(this,t,i)},t.prototype.destroy=function(){this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&e.prototype.destroy.call(this);var t={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.inputEle.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"};h.Input.removeAttributes(t,this.inputEle),this.isCalendar()&&(a.detach(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),i.EventHandler.remove(this.inputEle,"blur",this.inputBlurHandler),i.EventHandler.remove(this.inputEle,"focus",this.inputFocusHandler),this.inputWrapper.container.parentElement.appendChild(this.inputEleCopy),a.removeClass([this.inputEle],[p,"e-rtl"]),a.removeClass([this.inputWrapper.container],"e-date-wrapper"),a.detach(this.inputWrapper.container)},t.prototype.preRender=function(){this.inputEleCopy=this.element,this.inputEle=this.element;var t=l.getValue("ej2_instances",this.element);if(this.ngTag=null,"EJ-DATEPICKER"===this.element.tagName){this.ngTag=this.element.tagName;var i=a.createElement("input");this.element.parentNode.appendChild(i),this.element.parentNode.removeChild(this.element),this.inputEle=i,l.setValue("ej2_instances",t,this.inputEle)}this.element.getAttribute("id")?this.inputEle.id=this.element.getAttribute("id"):(this.inputEle.id=l.getUniqueID("ej2-datepicker"),a.attributes(this.element,{id:this.inputEle.id})),this.checkHtmlAttributes(),e.prototype.preRender.call(this)},t.prototype.checkHtmlAttributes=function(){this.globalize=new i.Internationalization(this.locale);for(var e=["value","min","max","disabled","readonly","style","name","placeholder"],t=0,s=e;t<s.length;t++){var a=s[t];if(!l.isNullOrUndefined(this.inputEle.getAttribute(a)))switch(a){case"disabled":var n="disabled"===this.inputEle.getAttribute(a)||""===this.inputEle.getAttribute(a);this.setProperties({enabled:n},!0),n||this.inputEle.setAttribute("aria-disabled","true");break;case"readonly":var r="readonly"===this.inputEle.getAttribute(a)||""===this.inputEle.getAttribute(a);this.setProperties({readonly:r},!0);break;case"placeholder":if(null===this.placeholder){this.inputEle.getAttribute(a);this.setProperties({placeholder:this.inputEle.getAttribute(a)},!0)}break;case"style":this.inputEle.setAttribute("style",""+this.inputEle.getAttribute(a));break;case"name":this.inputEle.setAttribute("name",""+this.inputEle.getAttribute(a));break;case"value":this.value||this.setProperties(l.setValue(a,this.globalize.parseDate(this.inputEle.getAttribute(a)),{}),!0);break;case"min":+this.min==+new Date(1900,0,1)&&this.setProperties(l.setValue(a,this.globalize.parseDate(this.inputEle.getAttribute(a)),{}),!0);break;case"max":+this.max==+new Date(2099,11,31)&&this.setProperties(l.setValue(a,this.globalize.parseDate(this.inputEle.getAttribute(a)),{}),!0)}}},t.prototype.getModuleName=function(){return"datepicker"},t.prototype.disabledDates=function(){var t=new Date(""+this.value),i=this.previousDate;e.prototype.render.call(this),this.previousDate=i;var s=t&&+t,a='*[id^="/id"]'.replace("/id",""+s);this.strictMode||this.setProperties({value:t},!0),l.isNullOrUndefined(this.calendarElement.querySelectorAll(a)[0])||this.calendarElement.querySelectorAll(a)[0].classList.contains("e-disabled")&&this.setProperties({value:null},!0);var n=this.globalize.formatDate(t,{format:this.format,type:"dateTime",skeleton:"yMd"});h.Input.setValue(n,this.inputEle,this.floatLabelType,!1)},t.prototype.setAriaAttributes=function(){this.isCalendar()?(h.Input.addAttributes({"aria-expanded":"true"},this.inputEle),a.attributes(this.inputEle,{"aria-activedescendant":""+this.setActiveDescendant()})):(h.Input.addAttributes({"aria-expanded":"false"},this.inputEle),a.attributes(this.inputEle,{"aria-activedescendant":"null"}))},t.prototype.errorClass=function(){l.isNullOrUndefined(this.value)&&!this.strictMode&&""!==this.inputEle.value?a.addClass([this.inputWrapper.container],"e-error"):a.removeClass([this.inputWrapper.container],"e-error")},t.prototype.onPropertyChanged=function(t,s){for(var a=0,n=Object.keys(t);a<n.length;a++){switch(n[a]){case"value":this.previousEleValue=this.inputEle.value,l.isNullOrUndefined(this.value)&&h.Input.setValue("",this.inputEle,this.floatLabelType,!1),this.updateInput(),this.changeTrigger();break;case"format":this.updateInput();break;case"placeholder":h.Input.setPlaceholder(this.placeholder,this.inputEle);break;case"readonly":h.Input.setReadonly(this.readonly,this.inputEle);break;case"enabled":h.Input.setEnabled(this.enabled,this.inputEle),this.bindEvents();break;case"locale":this.globalize=new i.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),h.Input.setPlaceholder(this.placeholder,this.inputEle),this.updateInput();break;case"enableRtl":h.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":h.Input.setCssClass(t.cssClass,[this.inputWrapper.container]);break;case"strictMode":this.updateInput();break;case"width":this.setWidth(t.width);break;default:this.calendarElement&&e.prototype.onPropertyChanged.call(this,t,s)}this.hide()}},t}(d.Calendar);r([i.Property(null)],u.prototype,"width",void 0),r([i.Property(null)],u.prototype,"cssClass",void 0),r([i.Property(!1)],u.prototype,"strictMode",void 0),r([i.Property(null)],u.prototype,"format",void 0),r([i.Property(!0)],u.prototype,"enabled",void 0),r([i.Property(!1)],u.prototype,"readonly",void 0),r([i.Property(null)],u.prototype,"placeholder",void 0),r([i.Property("Never")],u.prototype,"floatLabelType",void 0),r([s.Event()],u.prototype,"open",void 0),r([s.Event()],u.prototype,"close",void 0),r([s.Event()],u.prototype,"blur",void 0),r([s.Event()],u.prototype,"focus",void 0),r([s.Event()],u.prototype,"created",void 0),r([s.Event()],u.prototype,"destroyed",void 0),u=r([i.NotifyPropertyChanges],u),t.DatePicker=u,t.datepickerBuilder=i.CreateBuilder(u)}.apply(t,s))&&(e.exports=a)},function(e,i){e.exports=t},function(e,t){e.exports=i},function(e,t,i){var s,a;s=[i,t,i(9)],void 0!==(a=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i)}.apply(t,s))&&(e.exports=a)},function(e,t,i){var s,a,n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),r=this&&this.__decorate||function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};s=[i,t,i(3),i(3),i(3),i(3),i(2),i(6),i(10),i(7),i(11)],void 0!==(a=function(e,t,i,s,a,l,o,h,d,p,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c="e-left-calendar",v="e-right-calendar",m="e-daterangepicker",f="e-active",y="e-start-date",g="e-end-date",b="e-range-hover",D="e-other-month",C="e-disabled",E="e-selected",w="e-calendar",N="e-header",O="e-title",k="e-focused-date",x="e-content",I="e-date-disabled",M="e-icon-disabled",P="e-overlay",U=u.cssClass.li,A="e-hover",H=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.isCustomRange=!1,s.isCustomWindow=!1,s.presetsItem=[],s.liCollections=[],s.previousEleValue="",s.isTab=!1,s.isKeyPopup=!1,s.dateDisabled=!1,s.isRangeIconClicked=!1,s.disabledDays=[],s.presetKeyConfig={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",tab:"tab"},s.keyInputConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab"},s.defaultConstant={placeholder:"",startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},s}return n(t,e),t.prototype.render=function(){this.initialize()},t.prototype.preRender=function(){this.inputElement=this.element;var t=l.getValue("ej2_instances",this.element);if(this.angularTag=null,"EJ-DATERANGEPICKER"===this.element.tagName){this.angularTag=this.element.tagName;var i=a.createElement("input");this.element.parentNode.appendChild(i),this.element.parentNode.removeChild(this.element),this.inputElement=i,l.setValue("ej2_instances",t,this.inputElement)}this.cloneElement=this.element.cloneNode(!0),this.initProperty(),e.prototype.preRender.call(this),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPreviousMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this)},t.prototype.initProperty=function(){this.value=null,this.start=this.depth="month"},t.prototype.initialize=function(){l.merge(this.keyConfigs,{shiftTab:"shift+tab"}),this.checkHtmlAttributes(),this.globalize=new i.Internationalization(this.locale),this.l10n=new s.L10n("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.bindEvents()},t.prototype.processPresets=function(){var e=0;if(!l.isNullOrUndefined(this.presets)&&this.presets.length>0){for(var t=0,i=this.presets;t<i.length;t++){var s=i[t],a=s.label.replace(/\s+/g,"")+"_"+ ++e;this.presetsItem.push({id:a,text:s.label,start:s.start,end:s.end})}this.validateDates();var n=l.isNullOrUndefined(this.startDate)?null:new Date(+this.startDate),r=l.isNullOrUndefined(this.endDate)?null:new Date(+this.endDate);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:n,end:r}),l.isNullOrUndefined(this.startDate)||l.isNullOrUndefined(this.endDate)||(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}},t.prototype.bindEvents=function(){this.enabled?(i.EventHandler.add(this.inputWrapper.buttons[0],"click",this.rangeIconHandler,this),i.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),s.Browser.isDevice||(i.EventHandler.add(this.inputWrapper.buttons[0],"blur",this.iconBlurHandler,this),this.inputKeyboardModule=new s.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs}))):(i.EventHandler.remove(this.inputWrapper.buttons[0],"click",this.rangeIconHandler),i.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),s.Browser.isDevice||(i.EventHandler.remove(this.inputWrapper.buttons[0],"blur",this.iconBlurHandler),l.isNullOrUndefined(this.inputKeyboardModule)||this.inputKeyboardModule.destroy()))},t.prototype.rangeIconHandler=function(e){this.targetElement=null,this.isPopupOpen()?this.applyFunction():(this.isRangeIconClicked=!0,this.show())},t.prototype.checkHtmlAttributes=function(){this.globalize=new i.Internationalization(this.locale);var e;e=["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder"];for(var t={format:this.format,type:"date",skeleton:"yMd"},s=0,a=e;s<a.length;s++){var n=a[s];if(!l.isNullOrUndefined(this.inputElement.getAttribute(n)))switch(n){case"disabled":var r="disabled"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n);this.setProperties({enabled:!r},!0);break;case"readonly":var o="readonly"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n);this.setProperties({readonly:o},!0);break;case"placeholder":(l.isNullOrUndefined(this.placeholder)||""===this.placeholder.trim())&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!0);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(n));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(n));break;case"min":if(l.isNullOrUndefined(this.min)||+this.min==+new Date(1900,0,1)){var h=this.globalize.parseDate(this.inputElement.getAttribute(n),t);this.setProperties(l.setValue(n,h,{}),!0)}break;case"max":if(l.isNullOrUndefined(this.max)||+this.max==+new Date(2099,11,31)){var h=this.globalize.parseDate(this.inputElement.getAttribute(n),t);this.setProperties(l.setValue(n,h,{}),!0)}break;case"startDate":if(l.isNullOrUndefined(this.startDate)){var h=this.globalize.parseDate(this.inputElement.getAttribute(n),t);this.setProperties(l.setValue(n,h,{}),!0)}break;case"endDate":if(l.isNullOrUndefined(this.endDate)){var h=this.globalize.parseDate(this.inputElement.getAttribute(n),t);this.setProperties(l.setValue(n,h,{}),!0)}break;case"minDays":l.isNullOrUndefined(this.minDays)&&this.setProperties(l.setValue(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"maxDays":l.isNullOrUndefined(this.maxDays)&&this.setProperties(l.setValue(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0)}}},t.prototype.createPopup=function(){this.popupWrapper=a.createElement("div",{id:this.inputElement.id+"_popup",className:m+" e-popup"});var e=!this.isCustomRange||s.Browser.isDevice&&this.isCustomRange;!l.isNullOrUndefined(this.presets)&&this.presets.length>0&&e?(this.isCustomWindow=!1,this.createPresets(),document.body.appendChild(this.popupWrapper),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())},t.prototype.renderControl=function(){this.createControl(),this.bindCalendarEvents(),this.updateRange(s.Browser.isDevice?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate)||this.disabledDateRender(),this.updateHeader()},t.prototype.clearCalendarEvents=function(){i.EventHandler.clearEvents(this.leftCalPrevIcon),i.EventHandler.clearEvents(this.leftCalNextIcon),i.EventHandler.clearEvents(this.rightCalPrevIcon),i.EventHandler.clearEvents(this.rightCalNextIcon),i.EventHandler.clearEvents(this.headerTitleElement)},t.prototype.updateNavIcons=function(){this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.leftCalNextIcon,this.nextIconHandler(this.compareMonths(new Date(""+this.leftCalCurrentDate),this.rightCalCurrentDate)<1),this.previousIconHandler(this.compareMonths(new Date(""+this.leftCalCurrentDate),this.rightCalCurrentDate)<1)},t.prototype.calendarIconEvent=function(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(C)&&i.EventHandler.add(this.leftCalPrevIcon,"click",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(C)&&i.EventHandler.add(this.leftCalNextIcon,"click",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(C)&&i.EventHandler.add(this.rightCalPrevIcon,"click",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(C)&&i.EventHandler.add(this.rightCalNextIcon,"click",this.navNextFunction)},t.prototype.bindCalendarEvents=function(){s.Browser.isDevice?(i.EventHandler.clearEvents(this.headerTitleElement),this.deviceCalendarEvent(),i.EventHandler.add(this.startButton.element,"click",this.deviceHeaderClick,this),i.EventHandler.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector(".e-right-calendar .e-header ."+O),i.EventHandler.clearEvents(this.headerTitleElement),this.headerTitleElement=this.popupObj.element.querySelector(".e-left-calendar .e-header ."+O),i.EventHandler.clearEvents(this.headerTitleElement),this.leftKeyboardModule=new s.KeyboardEvents(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs}),this.rightKeyboardModule=new s.KeyboardEvents(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs})),this.bindCalendarCellEvents(),this.removeFocusedDate()},t.prototype.calendarIconRipple=function(){l.rippleEffect(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),l.rippleEffect(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),l.rippleEffect(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),l.rippleEffect(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})},t.prototype.deviceCalendarEvent=function(){i.EventHandler.clearEvents(this.nextIcon),i.EventHandler.clearEvents(this.previousIcon),l.rippleEffect(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),l.rippleEffect(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(C)&&i.EventHandler.add(this.nextIcon,"click",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(C)&&i.EventHandler.add(this.previousIcon,"click",this.deviceNavPrevFunction)},t.prototype.deviceNavNext=function(e){var t=a.closest(e.target,"."+w);this.updateDeviceCalendar(t),this.navigateNext(e),this.deviceNavigation()},t.prototype.deviceNavPrevious=function(e){var t=a.closest(e.target,"."+w);this.updateDeviceCalendar(t),this.navigatePrevious(e),this.deviceNavigation()},t.prototype.updateDeviceCalendar=function(e){e&&(this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector("."+x),this.tableBodyElement=a.select(".e-content tbody",e),this.table=e.querySelector("."+x).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector(".e-header ."+O),this.headerElement=e.querySelector("."+N))},t.prototype.deviceHeaderClick=function(e){if(e.currentTarget.classList.contains("e-start-btn")&&!l.isNullOrUndefined(this.startDate)){this.endButton.element.classList.remove(f),this.startButton.element.classList.add(f);var t=this.popupObj.element.querySelector("."+w);this.updateDeviceCalendar(t),l.isNullOrUndefined(this.calendarElement.querySelector(".e-start-date:not(.e-other-month)"))&&(this.currentDate=new Date(+this.startDate),a.remove(this.tableBodyElement),this.renderMonths(),this.deviceNavigation()),this.removeClassDisabled()}else if(!l.isNullOrUndefined(this.startDate)&&!l.isNullOrUndefined(this.endDate)){this.startButton.element.classList.remove(f),this.endButton.element.classList.add(f);var t=this.popupObj.element.querySelector("."+w);this.updateDeviceCalendar(t),l.isNullOrUndefined(this.calendarElement.querySelector(".e-end-date:not(.e-other-month)"))&&(this.currentDate=new Date(+this.endDate),a.remove(this.tableBodyElement),this.renderMonths(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+w)),this.selectableDates()}},t.prototype.inputBlurHandler=function(){var e=this.inputElement.value;if(l.isNullOrUndefined(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!l.isNullOrUndefined(e)&&""!==e.trim()){var t=e.split(this.separator);if(t.length>1){var i={format:this.format,type:"date",skeleton:"yMd"},s=this.globalize.parseDate(t[0].trim(),i);l.isNullOrUndefined(s)||isNaN(+s)||s.setHours(0,0,0,0);var a=this.globalize.parseDate(t[1].trim(),i);if(l.isNullOrUndefined(a)||isNaN(+a)||a.setHours(0,0,0,0),!(l.isNullOrUndefined(s)||isNaN(+s)||l.isNullOrUndefined(a)||isNaN(+a)))return this.setProperties({startDate:s},!0),this.setProperties({endDate:a},!0),this.refreshControl(),void this.changeTrigger()}}this.strictMode?(this.inputElement.value="",this.updateInput()):this.clearRange(),this.errorClass(),this.changeTrigger()},t.prototype.clearRange=function(){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.previousStartValue=this.previousEndValue=null,this.currentDate=null},t.prototype.errorClass=function(){var e=this.inputElement.value.trim();l.isNullOrUndefined(this.endDate)&&l.isNullOrUndefined(this.startDate)&&""!==e?(a.addClass([this.inputWrapper.container],"e-error"),a.attributes(this.inputElement,{"aria-invalid":"true"})):(a.removeClass([this.inputWrapper.container],"e-error"),a.attributes(this.inputElement,{"aria-invalid":"false"}))},t.prototype.keyCalendarUpdate=function(e,t){return this.removeFocusedDate(),e?(this.leftCalCurrentDate=new Date(+this.currentDate),t=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),t=this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t},t.prototype.navInCalendar=function(e,t,i,s,n){var r;switch(e.action){case"moveRight":r=new Date(+this.currentDate),this.addDay(r,1),t&&+r==+s&&(n=this.keyCalendarUpdate(!1,n)),this.KeyboardNavigate(1,0,e),this.keyNavigation(n,e);break;case"moveLeft":r=new Date(+this.currentDate),this.addDay(r,-1),t||+r!=+i||(n=this.keyCalendarUpdate(!0,n)),this.KeyboardNavigate(-1,0,e),this.keyNavigation(n,e);break;case"moveUp":r=new Date(+this.currentDate),this.addDay(r,-7),!t&&+r<=+i&&(n=this.keyCalendarUpdate(!0,n)),this.KeyboardNavigate(-7,0,e),this.keyNavigation(n,e);break;case"moveDown":r=new Date(+this.currentDate),this.addDay(r,7),t&&+r>=+s&&(n=this.keyCalendarUpdate(!1,n)),this.KeyboardNavigate(7,0,e),this.keyNavigation(n,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),a.remove(this.tableBodyElement),this.renderMonths(),this.keyNavigation(n,e);break;case"end":this.currentDate=this.lastDay(this.currentDate),a.remove(this.tableBodyElement),this.renderMonths(),this.keyNavigation(n,e)}},t.prototype.keyInputHandler=function(e){var t,i=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),s=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),n=a.closest(e.target,"."+v);n=l.isNullOrUndefined(n)?this.leftCalendar:n;var r=n.classList.contains(c)
;this.updateCalendarElement(n);var o=n.querySelector("tr td."+k),h=n.querySelector("tr td."+y),d=n.querySelector("tr td."+g);switch(l.isNullOrUndefined(o)?l.isNullOrUndefined(d)||this.dateDisabled?l.isNullOrUndefined(h)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startDate):this.currentDate=new Date(+this.endDate):this.currentDate=this.currentDate,e.action){case"select":l.isNullOrUndefined(o)&&l.isNullOrUndefined(h)||this.selectRange(e,o||h),e.preventDefault();break;case"controlHome":var p=new Date(this.currentDate.getFullYear(),0,1);!r&&+p<+s&&(n=this.keyCalendarUpdate(!0,n)),this.navigateTo("month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(n,e);break;case"controlEnd":p=new Date(this.currentDate.getFullYear(),11,31),r&&+p>+i&&(n=this.keyCalendarUpdate(!1,n)),this.navigateTo("month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(n,e);break;case"pageUp":t=new Date(+this.currentDate),this.addMonths(t,-1),!r&&+t<=+s&&(n=this.keyCalendarUpdate(!0,n)),this.addMonths(this.currentDate,-1),this.navigateTo("month",this.currentDate),this.keyNavigation(n,e);break;case"pageDown":t=new Date(+this.currentDate),this.addMonths(t,1),r&&+t>=+i&&(n=this.keyCalendarUpdate(!1,n)),this.addMonths(this.currentDate,1),this.navigateTo("month",this.currentDate),this.keyNavigation(n,e);break;case"shiftPageUp":t=new Date(+this.currentDate),this.addYears(t,-1),!r&&+t<=+s&&(n=this.keyCalendarUpdate(!0,n)),this.addYears(this.currentDate,-1),this.navigateTo("month",this.currentDate),this.keyNavigation(n,e);break;case"shiftPageDown":t=new Date(+this.currentDate),this.addYears(t,1),r&&+t>=+i&&(n=this.keyCalendarUpdate(!1,n)),this.addYears(this.currentDate,1),this.navigateTo("month",this.currentDate),this.keyNavigation(n,e);break;case"shiftTab":l.isNullOrUndefined(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),e.preventDefault();break;default:this.navInCalendar(e,r,s,i,n),this.checkMinMaxDays()}this.presetHeight()},t.prototype.keyNavigation=function(e,t){this.bindCalendarCellEvents(e),e.classList.contains(c)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),t.preventDefault()},t.prototype.inputHandler=function(e){switch(e.action){case"altUpArrow":this.isPopupOpen()&&this.hide();break;case"altDownArrow":this.isPopupOpen()||(this.show(),this.isKeyPopup=!0,this.isRangeIconClicked=!1);break;case"escape":this.isPopupOpen()&&this.hide();break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(),this.hide());break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(),e.preventDefault())}},t.prototype.bindCalendarCellEvents=function(e){var t;t=e?e.querySelectorAll(".e-calendar td"):this.popupObj.element.querySelectorAll(".e-calendar td");for(var a=0,n=t;a<n.length;a++){var r=n[a];i.EventHandler.clearEvents(r);var l=void 0;l=r.classList.contains(C)||r.classList.contains(I),l||r.classList.contains("e-week-number")||(i.EventHandler.add(r,"click",this.selectRange,this),s.Browser.isDevice||i.EventHandler.add(r,"mouseover",this.hoverSelection,this))}},t.prototype.removeFocusedDate=function(){var e,t=!l.isNullOrUndefined(this.startDate)||!l.isNullOrUndefined(this.endDate);e=this.popupObj.element.querySelectorAll(".e-calendar ."+k);for(var i=0,s=e;i<s.length;i++){var a=s[i];(!a.classList.contains("e-today")||a.classList.contains("e-today")&&t)&&(a.classList.remove(k),a.classList.contains(y)||a.classList.contains(g)||a.removeAttribute("aria-label"))}},t.prototype.hoverSelection=function(e,t){var i=t||e.currentTarget,s=this.getIdValue(null,i);if(!l.isNullOrUndefined(this.startDate)&&l.isNullOrUndefined(this.endDate)){var n=void 0;n=this.popupObj.element.querySelectorAll(".e-calendar td");for(var r=0,o=n;r<o.length;r++){var h=o[r],d=!h.classList.contains(C)||h.classList.contains(I);if(!h.classList.contains("e-week-number")&&d){var p=this.getIdValue(null,h);+p>=+this.startDate&&+p<=+s?a.addClass([h],b):a.removeClass([h],[b])}}}},t.prototype.updateRange=function(e){if(!l.isNullOrUndefined(this.startDate))for(var t=0,i=e;t<i.length;t++)for(var s=i[t],n=s.querySelectorAll(".e-calendar td"),r=0,o=n;r<o.length;r++){var h=o[r];if(!h.classList.contains("e-week-number")&&!h.classList.contains(C)){var d=this.getIdValue(null,h);l.isNullOrUndefined(this.endDate)?a.removeClass([h],[b]):+d>=+this.startDate&&+d<=+this.endDate&&+this.startDate!=+this.endDate&&a.addClass([h],b),h.classList.contains(D)||(+d==+this.startDate&&(a.addClass([h],[y,E]),this.addSelectedAttributes(h,this.startDate,!0)),l.isNullOrUndefined(this.endDate)||+d!=+this.endDate||(a.addClass([h],[g,E]),this.addSelectedAttributes(h,this.endDate,!1)),+d!=+this.startDate||l.isNullOrUndefined(this.endDate)||+d!=+this.endDate||this.addSelectedAttributes(h,this.endDate,!1,!0))}}},t.prototype.checkMinMaxDays=function(){(!l.isNullOrUndefined(this.minDays)&&this.minDays>0||!l.isNullOrUndefined(this.maxDays)&&this.maxDays>0)&&(s.Browser.isDevice?this.updateMinMaxDays(this.popupObj.element.querySelector("."+w)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+c)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+v))))},t.prototype.rangeArgs=function(){var e,t;if(l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate))e="",t=0;else{var i=this.globalize.formatDate(this.startDate,{format:this.format,type:"date",skeleton:"yMd"}),s=this.globalize.formatDate(this.endDate,{format:this.format,type:"date",skeleton:"yMd"});e=i+" "+this.separator+" "+s,t=Math.round(Math.abs((this.startDate.getTime()-this.endDate.getTime())/864e5))+1}return{value:e,startDate:this.startDate,endDate:this.endDate,daySpan:t}},t.prototype.otherMonthSelect=function(e,t,i){var s=+this.getIdValue(null,e),n='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+s),r=this.popupObj.element.querySelector(n);l.isNullOrUndefined(r)||(t?(a.addClass([r],[y,E]),this.addSelectedAttributes(r,this.startDate,!0)):(a.addClass([r],[g,E]),this.addSelectedAttributes(r,this.endDate,!0)),i&&this.addSelectedAttributes(e,this.endDate,!1,!0))},t.prototype.selectRange=function(e,t){var i;i=e instanceof MouseEvent?this.getIdValue(e,null):this.getIdValue(null,t),l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate)?s.Browser.isDevice&&this.startButton.element.classList.contains(f)&&this.removeSelection():(!s.Browser.isDevice||s.Browser.isDevice&&!this.endButton.element.classList.contains(f))&&this.removeSelection();var n=t||e.currentTarget;if(l.isNullOrUndefined(this.startDate))this.setProperties({startDate:new Date(""+i)},!0),this.setProperties({endDate:null},!0),a.addClass([n],y),this.addSelectedAttributes(n,this.startDate,!0),n.classList.contains(D)&&this.otherMonthSelect(n,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,s.Browser.isDevice&&(this.endButton.element.classList.add(f),this.startButton.element.classList.remove(f),this.endButton.element.removeAttribute("disabled"),this.selectableDates());else if(+i==+this.startDate||+i>+this.startDate){if(+i==+this.startDate&&!l.isNullOrUndefined(this.minDays)&&this.minDays>1)return;this.setProperties({endDate:null},!0),(s.Browser.isDevice||t)&&this.hoverSelection(e,t),this.setProperties({endDate:new Date(""+i)},!0);var r=this.popupObj.element.querySelectorAll("."+g);if(s.Browser.isDevice){this.startButton.element.classList.remove(f),this.endButton.element.classList.add(f);for(var o=0,h=r;o<h.length;o++){var d=h[o];d.removeAttribute("aria-label"),d.classList.contains(y)?(this.addSelectedAttributes(d,this.startDate,!0),a.removeClass([d],[g])):(d.setAttribute("aria-selected","false"),a.removeClass([d],[g,E]))}}a.addClass([n],g),+this.endDate==+this.startDate?this.addSelectedAttributes(n,this.endDate,!1,!0):this.addSelectedAttributes(n,this.endDate,!1),n.classList.contains(D)&&(+this.endDate==+this.startDate?this.otherMonthSelect(n,!1,!0):this.otherMonthSelect(n,!1)),r=this.popupObj.element.querySelectorAll("."+g);for(var p=0,u=r;p<u.length;p++){var c=u[p];c.classList.contains(y)&&a.removeClass([c],[b])}this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,s.Browser.isDevice||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs())}else+i<+this.startDate&&(this.removeClassDisabled(),this.setProperties({startDate:new Date(""+i)},!0),this.removeSelectedAttributes(),a.removeClass(this.popupObj.element.querySelectorAll("."+y),[y,E]),a.addClass([n],y),this.addSelectedAttributes(n,this.startDate,!0),n.classList.contains(D)&&this.otherMonthSelect(n,!0),this.checkMinMaxDays());a.addClass([n],E),this.updateHeader(),this.removeFocusedDate()},t.prototype.selectableDates=function(){if(!l.isNullOrUndefined(this.startDate)){for(var e=this.calendarElement.querySelectorAll(".e-calendar td"),t=!1,s=0,n=e;s<n.length;s++){var r=n[s];if(!r.classList.contains(y)&&!r.classList.contains("e-week-number")&&!r.classList.contains(C)){if(+this.getIdValue(null,r)<+this.startDate){a.addClass([r],[I,C,P]),i.EventHandler.clearEvents(r);continue}break}if(r.classList.contains(y)&&!r.classList.contains(D)){t=!0;break}}t&&(this.previousIcon.classList.contains(C)||a.addClass([this.previousIcon],[M,C,P]))}},t.prototype.updateMinMaxDays=function(e){if(!l.isNullOrUndefined(this.startDate)&&(l.isNullOrUndefined(this.endDate)||s.Browser.isDevice)&&(!l.isNullOrUndefined(this.minDays)&&this.minDays>0||!l.isNullOrUndefined(this.maxDays)&&this.maxDays>0)){var t=new Date(new Date(+this.startDate).setDate(this.startDate.getDate()+(this.minDays-1))),n=new Date(new Date(+this.startDate).setDate(this.startDate.getDate()+(this.maxDays-1)));t=!l.isNullOrUndefined(this.minDays)&&this.minDays>0?t:null,n=!l.isNullOrUndefined(this.maxDays)&&this.maxDays>0?n:null;for(var r=e.querySelectorAll(".e-calendar td"),o=void 0,h=0,d=r;h<d.length;h++){var p=d[h];if(!p.classList.contains(y)&&!p.classList.contains("e-week-number")){var u=this.getIdValue(null,p);if(!l.isNullOrUndefined(t)&&+u==+t&&p.classList.contains(C)&&t.setDate(t.getDate()+1),!p.classList.contains(C)){if(+u<=+this.startDate)continue;!l.isNullOrUndefined(t)&&+u<+t&&(a.addClass([p],[I,C,P]),i.EventHandler.clearEvents(p)),!l.isNullOrUndefined(n)&&+u>+n&&(a.addClass([p],[I,C,P]),i.EventHandler.clearEvents(p),l.isNullOrUndefined(o)&&!p.classList.contains(D)&&(o=p))}}}if(!l.isNullOrUndefined(o))if(s.Browser.isDevice)this.nextIcon.classList.contains(C)||a.addClass([this.nextIcon],[M,C,P]);else{var m=a.closest(o,"."+v);m=l.isNullOrUndefined(m)?this.leftCalendar:m;var f=m.classList.contains(c);f?(this.rightCalNextIcon.classList.contains(C)||a.addClass([this.rightCalNextIcon],[M,C,P]),this.leftCalNextIcon.classList.contains(C)||a.addClass([this.leftCalNextIcon],[M,C,P]),this.rightCalPrevIcon.classList.contains(C)||a.addClass([this.rightCalPrevIcon],[M,C,P])):this.rightCalNextIcon.classList.contains(C)||a.addClass([this.rightCalNextIcon],[M,C,P])}}},t.prototype.removeClassDisabled=function(){var e;e=this.popupObj.element.querySelectorAll(".e-calendar td."+I);for(var t=0,n=e;t<n.length;t++){var r=n[t];r.classList.contains(I)&&(a.removeClass([r],[I,C,P]),i.EventHandler.add(r,"click",this.selectRange,this),s.Browser.isDevice||i.EventHandler.add(r,"mouseover",this.hoverSelection,this))}s.Browser.isDevice?(this.nextIcon.classList.contains(M)&&a.removeClass([this.nextIcon],[M,C,P]),this.previousIcon.classList.contains(M)&&a.removeClass([this.previousIcon],[M,C,P])):(this.rightCalNextIcon.classList.contains(M)&&a.removeClass([this.rightCalNextIcon],[M,C,P]),this.rightCalPrevIcon.classList.contains(M)&&a.removeClass([this.rightCalPrevIcon],[M,C,P]),this.leftCalNextIcon.classList.contains(M)&&a.removeClass([this.leftCalNextIcon],[M,C,P]))},t.prototype.updateHeader=function(){var e={type:"date",skeleton:"yMMMd"};if(l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate))this.popupObj.element.querySelector(".e-day-span").textContent=this.l10n.getConstant("selectedDays");else{var t=Math.round(Math.abs((this.startDate.getTime()-this.endDate.getTime())/864e5))+1;l.isNullOrUndefined(this.disabledDayCnt)||(t-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector(".e-day-span").textContent=t.toString()+" "+this.l10n.getConstant("days")}s.Browser.isDevice?(l.isNullOrUndefined(this.startDate)?this.startButton.element.textContent=this.l10n.getConstant("startLabel"):this.startButton.element.textContent=this.globalize.formatDate(this.startDate,e),l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate)?this.endButton.element.textContent=this.l10n.getConstant("endLabel"):this.endButton.element.textContent=this.globalize.formatDate(this.endDate,e)):(l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate)?this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector(".e-end-label").textContent=this.globalize.formatDate(this.endDate,e),l.isNullOrUndefined(this.startDate)?this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector(".e-start-label").textContent=this.globalize.formatDate(this.startDate,e))},t.prototype.removeSelection=function(){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.removeSelectedAttributes(),this.popupObj.element.querySelectorAll("."+E).length>0&&a.removeClass(this.popupObj.element.querySelectorAll("."+E),[y,g,E]),this.popupObj.element.querySelectorAll("."+k).length>0&&a.removeClass(this.popupObj.element.querySelectorAll("."+k),k),this.popupObj.element.querySelectorAll("."+b).length>0&&a.removeClass(this.popupObj.element.querySelectorAll("."+b),[b])},t.prototype.addSelectedAttributes=function(e,t,i,s){if(e){var a=this.globalize.formatDate(t,{type:"date",skeleton:"full"});!l.isNullOrUndefined(s)&&s?e.setAttribute("aria-label","The current start and end date is "+a):e.setAttribute("aria-label","The current "+(i?"start":"end")+" date is "+a),e.setAttribute("aria-selected","true")}},t.prototype.removeSelectedAttributes=function(){for(var e=this.popupObj.element.querySelectorAll("."+y),t=0,i=e;t<i.length;t++){var s=i[t];s.setAttribute("aria-selected","false"),s.removeAttribute("aria-label")}for(var a=this.popupObj.element.querySelectorAll("."+g),n=0,r=a;n<r.length;n++){var s=r[n];s.setAttribute("aria-selected","false"),s.removeAttribute("aria-label")}},t.prototype.updateCalendarElement=function(e){e.classList.contains(c)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector("."+x),this.tableBodyElement=a.select(".e-content tbody",e),this.table=e.querySelector("."+x).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector(".e-header ."+O),this.headerElement=e.querySelector("."+N)},t.prototype.navPreviousMonth=function(e){var t=a.closest(e.target,"."+c);t=l.isNullOrUndefined(t)?a.closest(e.target,"."+v):t,this.updateCalendarElement(t),this.navigatePrevious(e),!l.isNullOrUndefined(this.startDate)&&l.isNullOrUndefined(this.endDate)&&this.updateMinMaxDays(t),this.updateControl(t)},t.prototype.deviceNavigation=function(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+w)]),this.endButton.element.classList.contains(f)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+w)),this.endButton.element.classList.contains(f)&&this.selectableDates(),this.bindCalendarCellEvents(),this.removeFocusedDate(),this.popupObj.refreshPosition(),this.popupObj.show()},t.prototype.updateControl=function(e){e.classList.contains(v)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e]),this.presetHeight(),s.Browser.isDevice||this.enableRtl||(this.popupObj.offsetX=-this.popupWrapper.getBoundingClientRect().width,this.popupObj.show())},t.prototype.navNextMonth=function(e){var t=a.closest(e.target,"."+c);t=l.isNullOrUndefined(t)?a.closest(e.target,"."+v):t,this.updateCalendarElement(t),this.navigateNext(e),!l.isNullOrUndefined(this.startDate)&&l.isNullOrUndefined(this.endDate)&&this.updateMinMaxDays(t),this.updateControl(t)},t.prototype.compareMonths=function(e,t){return e.getFullYear()>t.getFullYear()?-1:e.getFullYear()<t.getFullYear()?e.getFullYear()+1===t.getFullYear()&&11===e.getMonth()&&0===t.getMonth()?-1:1:e.getMonth()===t.getMonth()?0:e.getMonth()+1===t.getMonth()?-1:1},t.prototype.isPopupOpen=function(){return!(l.isNullOrUndefined(this.popupObj)||!this.popupObj.element.classList.contains("e-popup"))},t.prototype.createHeader=function(){var e=a.createElement("div",{className:"e-start-end"});if(s.Browser.isDevice){var t=a.createElement("button",{className:"e-end-btn"}),i=a.createElement("button",{className:"e-start-btn"});this.startButton=new d.Button({content:this.l10n.getConstant("startLabel")},i),this.endButton=new d.Button({content:this.l10n.getConstant("endLabel")},t),e.appendChild(i),e.appendChild(t)}else{var n=a.createElement("a",{className:"e-start-label"}),r=a.createElement("a",{className:"e-end-label"}),l=a.createElement("span",{className:"e-change-icon e-icons"});a.attributes(n,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),a.attributes(r,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),e.appendChild(n),e.appendChild(l),e.appendChild(r),n.textContent=this.l10n.getConstant("startLabel"),r.textContent=this.l10n.getConstant("endLabel")}return e},t.prototype.disableInput=function(){this.strictMode?l.isNullOrUndefined(this.previousStartValue)||l.isNullOrUndefined(this.previousEndValue)||(this.setProperties({startDate:this.previousStartValue},!0),this.setProperties({endDate:this.previousEndValue},!0),this.updateInput()):(this.updateInput(),this.clearRange(),this.errorClass()),this.setProperties({enabled:!1},!0),p.Input.setEnabled(this.enabled,this.inputElement),this.bindEvents()},t.prototype.validateMinMax=function(){if(this.min=l.isNullOrUndefined(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=l.isNullOrUndefined(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,!(this.min<=this.max))return void this.disableInput();l.isNullOrUndefined(this.minDays)||l.isNullOrUndefined(this.maxDays)||this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!l.isNullOrUndefined(this.minDays)&&this.minDays<0&&(this.minDays=null),!l.isNullOrUndefined(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)},t.prototype.validateDates=function(){this.setProperties({value:null},!0),this.startDate=l.isNullOrUndefined(this.startDate)||isNaN(+this.startDate)?null:this.resetTime(this.startDate),this.endDate=l.isNullOrUndefined(this.endDate)||isNaN(+this.endDate)?null:this.resetTime(this.endDate)},t.prototype.validateRangeStrict=function(){l.isNullOrUndefined(this.startDate)||(+this.startDate<+this.min?this.setProperties({startDate:this.min},!0):+this.startDate>+this.max&&this.setProperties({startDate:this.max},!0)),l.isNullOrUndefined(this.endDate)||(+this.endDate>+this.max?this.setProperties({endDate:this.max},!0):+this.endDate<+this.min&&this.setProperties({endDate:this.min},!0)),!l.isNullOrUndefined(this.startDate)&&!l.isNullOrUndefined(this.endDate)&&+this.startDate>+this.endDate&&this.setProperties({endDate:this.max},!0),this.validateMinMaxDays()},t.prototype.validateRange=function(){!l.isNullOrUndefined(this.startDate)&&+this.startDate<+this.min&&(this.setProperties({endDate:null},!0),this.setProperties({startDate:null},!0)),!l.isNullOrUndefined(this.endDate)&&+this.endDate>+this.max&&(this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0)),!l.isNullOrUndefined(this.startDate)&&!l.isNullOrUndefined(this.endDate)&&+this.startDate>+this.endDate&&(this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0)),this.validateMinMaxDays()},t.prototype.validateMinMaxDays=function(){if(!l.isNullOrUndefined(this.startDate)&&!l.isNullOrUndefined(this.endDate)){var e=Math.round(Math.abs((this.startDate.getTime()-this.endDate.getTime())/864e5))+1;if(!l.isNullOrUndefined(this.minDays)&&this.minDays>0&&!(e>=this.minDays))if(this.strictMode){var t=new Date(+this.startDate);t.setDate(t.getDate()+(this.minDays-1)),+t>+this.max?this.setProperties({endDate:this.max},!0):this.setProperties({endDate:t},!0)}else this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0);l.isNullOrUndefined(this.maxDays)||!(this.maxDays>0)||e<=this.maxDays||(this.strictMode?(this.endDate=new Date(+this.startDate),this.endDate.setDate(this.endDate.getDate()+(this.maxDays-1)),this.setProperties({endDate:this.endDate},!0)):(this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0)))}},t.prototype.renderCalendar=function(){this.calendarElement=a.createElement("div"),this.calendarElement.classList.add(w),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),a.attributes(this.calendarElement,{role:"calendar"}),e.prototype.header.call(this),e.prototype.content.call(this)},t.prototype.isSameMonth=function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},t.prototype.selectNextMonth=function(){l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate)||this.isSameMonth(this.endDate,this.currentDate)?(this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()+1)):this.currentDate=new Date(+this.endDate)},t.prototype.selectStartMonth=function(){l.isNullOrUndefined(this.startDate)?(this.currentDate=this.resetTime(new Date),this.currentDate>this.max||this.isSameMonth(this.min,this.max)||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(""+this.min))):!l.isNullOrUndefined(this.max)&&this.isSameMonth(this.startDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate=new Date(+this.startDate)},t.prototype.createCalendar=function(){var t=a.createElement("div",{className:"e-calendar-container"});if(s.Browser.isDevice){l.isNullOrUndefined(this.startDate)?this.currentDate=this.resetTime(new Date):this.currentDate=new Date(+this.startDate),e.prototype.render.call(this);var i=this.calendarElement.querySelector(".e-calendar .e-prev"),n=this.calendarElement.querySelector(".e-calendar .e-next");a.remove(this.calendarElement.querySelector(".e-calendar .e-icon-container")),this.calendarElement.querySelector(".e-calendar ."+N).appendChild(n),this.calendarElement.querySelector(".e-calendar ."+N).appendChild(i),a.prepend([i],this.calendarElement.querySelector(".e-calendar ."+N)),this.deviceCalendar=this.calendarElement,t.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector(".e-calendar .e-header ."+O)}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(c),this.leftCalPrevIcon=this.calendarElement.querySelector(".e-left-calendar .e-prev"),this.leftCalNextIcon=this.calendarElement.querySelector(".e-left-calendar .e-next"),a.remove(this.calendarElement.querySelector(".e-left-calendar .e-icon-container")),this.calendarElement.querySelector(".e-left-calendar ."+N).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector(".e-left-calendar ."+N).appendChild(this.leftCalPrevIcon),a.prepend([this.leftCalPrevIcon],this.calendarElement.querySelector(".e-left-calendar ."+N)),this.leftCalendar=this.calendarElement;var r=a.createElement("div",{className:"e-left-container"}),o=a.createElement("div",{className:"e-right-container"});r.appendChild(this.leftCalendar),t.appendChild(r),this.selectNextMonth(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),a.addClass([this.calendarElement],v),this.rightCalendar=this.calendarElement,this.rightCalPrevIcon=this.calendarElement.querySelector(".e-right-calendar .e-prev"),this.rightCalNextIcon=this.calendarElement.querySelector(".e-right-calendar .e-next"),a.remove(this.calendarElement.querySelector(".e-right-calendar .e-icon-container")),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector(".e-right-calendar ."+N).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector(".e-right-calendar ."+N).appendChild(this.rightCalPrevIcon),a.prepend([this.rightCalPrevIcon],this.calendarElement.querySelector(".e-right-calendar ."+N)),o.appendChild(this.rightCalendar),t.appendChild(o)}return t},t.prototype.createControl=function(){var e=a.createElement("div",{className:"e-date-range-container"}),t=a.createElement("div",{className:"e-range-header"}),n=this.createHeader();t.appendChild(n);var r=a.createElement("div",{className:"e-day-span"});a.attributes(r,{"aria-label":"Selected Days"}),r.textContent=this.l10n.getConstant("selectedDays"),t.appendChild(r);var o=a.createElement("div",{className:"e-separator"}),h=this.createCalendar();e.appendChild(t),e.appendChild(o),e.appendChild(h);var p=a.createElement("div",{className:"e-footer"}),u=a.createElement("button",{className:"e-cancel e-flat"}),c=a.createElement("button",{className:"e-apply e-flat e-primary"});p.appendChild(c),p.appendChild(u);var v=!l.isNullOrUndefined(this.startDate)&&!l.isNullOrUndefined(this.endDate);if(this.cancelButton=new d.Button({content:this.l10n.getConstant("cancelText")},u),this.applyButton=new d.Button({content:this.l10n.getConstant("applyText"),disabled:!v},c),i.EventHandler.add(c,"click",this.applyFunction,this),i.EventHandler.add(u,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),document.body.appendChild(this.popupWrapper),!s.Browser.isDevice&&!l.isNullOrUndefined(this.presets)&&this.presets.length>0){this.createPresets(),this.listRippleEffect(),a.addClass([e],"e-range-border"),a.addClass([this.popupWrapper],"e-preset-wrapper");this.popupWrapper.querySelector(".e-presets").style.height=this.popupWrapper.querySelector(".e-date-range-container").getBoundingClientRect().height+"px"}this.popupWrapper.appendChild(p),s.Browser.isDevice&&this.deviceHeaderUpdate(),this.renderPopup()},t.prototype.cancelFunction=function(e){!s.Browser.isDevice&&this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide()},t.prototype.deviceHeaderUpdate=function(){l.isNullOrUndefined(this.startDate)&&l.isNullOrUndefined(this.endDate)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(f)):l.isNullOrUndefined(this.startDate)||this.startButton.element.classList.add(f)},t.prototype.applyFunction=function(e){!s.Browser.isDevice&&this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),l.isNullOrUndefined(this.startDate)||l.isNullOrUndefined(this.endDate)?this.hide():(this.previousStartValue=new Date(+this.startDate),this.previousEndValue=new Date(+this.endDate),this.previousEleValue=this.inputElement.value,this.inputElement.value=this.rangeArgs().value,this.changeTrigger(),this.hide(),this.errorClass())},t.prototype.onMouseClick=function(e,t){var i=t||e.target,s=a.closest(i,"."+U);s&&s.classList.contains(U)&&this.setListSelection(s,e)},t.prototype.onMouseOver=function(e){var t=a.closest(e.target,"."+U);t&&t.classList.contains(U)&&!t.classList.contains(A)&&a.addClass([t],A)},t.prototype.onMouseLeave=function(e){var t=a.closest(e.target,"."+A);l.isNullOrUndefined(t)||a.removeClass([t],A)},t.prototype.setListSelection=function(e,t){if(e&&(!e.classList.contains(f)||s.Browser.isDevice&&e.classList.contains(f))){if(s.Browser.isDevice&&e.classList.contains(f)){this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e);if("custom_range"===this.presetsItem[this.activeIndex].id)return void this.renderCustomPopup();return}this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),a.addClass([e],f),e.setAttribute("aria-selected","true");var i=this.presetsItem[this.activeIndex];"custom_range"===i.id?this.renderCustomPopup():this.applyPresetRange(i)}},t.prototype.removeListSelection=function(){var e=this.presetElement.querySelector("."+f);l.isNullOrUndefined(e)||(a.removeClass([e],f),e.removeAttribute("aria-selected"))},t.prototype.applyPresetRange=function(e){this.hide(),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.setProperties({startDate:e.start},!0),this.setProperties({endDate:e.end},!0),this.refreshControl(),this.trigger("select",this.rangeArgs()),this.changeTrigger(),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())},t.prototype.renderCustomPopup=function(){this.isCustomWindow=!0,this.hide(),this.popupWrapper=a.createElement("div",{id:this.element.id+"_popup",className:m+" e-popup"}),this.renderControl(),this.isCustomRange=!0,s.Browser.isDevice||this.calendarFocus()},t.prototype.listRippleEffect=function(){for(var e=0,t=this.liCollections;e<t.length;e++){var i=t[e];l.rippleEffect(i)}},t.prototype.createPresets=function(){if(!l.isNullOrUndefined(this.presets)&&this.presets.length>0){this.presetElement=a.createElement("div",{className:"e-presets",attrs:{tabindex:"0"}});var e=u.ListBase.createList(this.presetsItem,null,!0);a.attributes(e,{role:"listbox","aria-hidden":"false",id:this.inputElement.id+"_options"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement),this.liCollections=this.presetElement.querySelectorAll("."+U),this.wireListEvents(),s.Browser.isDevice&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!l.isNullOrUndefined(this.activeIndex)&&this.activeIndex>-1&&a.addClass([this.liCollections[this.activeIndex]],f)}},t.prototype.wireListEvents=function(){i.EventHandler.add(this.presetElement,"click",this.onMouseClick,this),s.Browser.isDevice||(i.EventHandler.add(this.presetElement,"mouseover",this.onMouseOver,this),i.EventHandler.add(this.presetElement,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){l.isNullOrUndefined(this.presetElement)||(i.EventHandler.remove(this.presetElement,"click",this.onMouseClick),s.Browser.isDevice||(i.EventHandler.remove(this.presetElement,"mouseover",this.onMouseOver),i.EventHandler.remove(this.presetElement,"mouseout",this.onMouseLeave)))},t.prototype.renderPopup=function(){var e=this;this.popupWrapper.classList.add("e-control");var t=this.popupWrapper.getBoundingClientRect().width;l.isNullOrUndefined(this.cssClass)||""===this.cssClass.trim()||this.popupWrapper.classList.add(this.cssClass),s.Browser.isDevice&&this.isCustomWindow&&(this.modal=a.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new h.Popup(this.popupWrapper,{relateTo:s.Browser.isDevice&&this.isCustomWindow?document.body:l.isNullOrUndefined(this.targetElement)?this.inputWrapper.container:this.targetElement,position:s.Browser.isDevice?!l.isNullOrUndefined(this.presets)&&this.presets.length>0&&!this.isCustomWindow?{X:"left",Y:"bottom"}:{X:"center",Y:"center"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},
offsetX:s.Browser.isDevice||this.enableRtl?0:-t,offsetY:4,collision:s.Browser.isDevice?!l.isNullOrUndefined(this.presets)&&this.presets.length>0&&!this.isCustomWindow?{X:"fit"}:{X:"fit",Y:"fit"}:{X:"fit"},targetType:s.Browser.isDevice&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,open:function(){a.addClass([e.inputWrapper.buttons[0]],f),s.Browser.isDevice||(e.cancelButton&&(e.btnKeyboardModule=new s.KeyboardEvents(e.cancelButton.element,{eventName:"keydown",keyAction:e.hide.bind(e),keyConfigs:{tab:"tab"}})),l.isNullOrUndefined(e.leftCalendar)||e.calendarFocus(),l.isNullOrUndefined(e.presetElement)||(e.presetKeyboardModule=new s.KeyboardEvents(e.presetElement,{eventName:"keydown",keyAction:e.presetKeyActionHandler.bind(e),keyConfigs:e.presetKeyConfig}),l.isNullOrUndefined(e.leftCalendar)?e.presetElement.focus():e.presetElement.setAttribute("tabindex","-1")),e.popupKeyBoardHandler())},close:function(){a.removeClass([e.inputWrapper.buttons[0]],f),s.Browser.isDevice||(e.isRangeIconClicked?(e.addIconTabindex(),e.inputWrapper.container.children[1].focus()):e.iconBlurHandler()),!l.isNullOrUndefined(e.presets)&&e.presets.length>0&&e.unWireListEvents(),l.isNullOrUndefined(e.popupObj)||(a.remove(e.popupObj.element),e.popupObj.destroy(),e.popupObj=null)}}),document.body.appendChild(this.popupObj.element),s.Browser.isDevice&&this.popupObj.element.classList.add("e-device"),s.Browser.isDevice&&this.isCustomWindow&&(this.modal.className=m+" e-range-modal",document.body.className+=" e-range-overflow",this.modal.style.display="block"),this.presetHeight(),s.Browser.isDevice||this.enableRtl||(this.popupObj.offsetX=-this.popupWrapper.getBoundingClientRect().width),this.popupObj.show(),i.EventHandler.add(document,"click",this.documentHandler,this)},t.prototype.calendarFocus=function(){var e=this.popupObj.element.querySelector("."+y);if(e){var t=a.closest(e,"."+v);t=l.isNullOrUndefined(t)?this.leftCalendar:t,t.children[1].firstElementChild.focus(),a.addClass([e],k)}else this.leftCalendar.children[1].firstElementChild.focus()},t.prototype.presetHeight=function(){var e=this.popupObj.element.querySelector(".e-presets"),t=this.popupObj.element.querySelector(".e-date-range-container");l.isNullOrUndefined(e)||l.isNullOrUndefined(t)||(e.style.height=t.getBoundingClientRect().height+"px")},t.prototype.presetKeyActionHandler=function(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":var t=this.getHoverLI(),i=this.getActiveLI();if(!l.isNullOrUndefined(this.leftCalendar)&&!l.isNullOrUndefined(i)&&(l.isNullOrUndefined(t)||!l.isNullOrUndefined(i)&&i===t)){this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(i);if("custom_range"===this.presetsItem[this.activeIndex].id)return this.calendarFocus(),i.classList.remove(A),void e.preventDefault()}l.isNullOrUndefined(t)&&l.isNullOrUndefined(i)||this.onMouseClick(e,t||i),e.preventDefault();break;case"tab":if(this.leftCalendar){var s=this.getHoverLI();l.isNullOrUndefined(s)||s.classList.remove(A)}else this.hide(),e.preventDefault()}},t.prototype.listMoveDown=function(e){var t=this.getHoverLI(),i=this.getActiveLI();if(l.isNullOrUndefined(t))if(l.isNullOrUndefined(i))a.addClass([this.liCollections[0]],A);else{var s=i.nextElementSibling;!l.isNullOrUndefined(s)&&s.classList.contains(U)&&a.addClass([s],A)}else{var s=t.nextElementSibling;!l.isNullOrUndefined(s)&&s.classList.contains(U)&&(a.removeClass([t],A),a.addClass([s],A))}},t.prototype.listMoveUp=function(e){var t=this.getHoverLI(),i=this.getActiveLI();if(l.isNullOrUndefined(t)){if(!l.isNullOrUndefined(i)){var s=i.previousElementSibling;!l.isNullOrUndefined(s)&&s.classList.contains(U)&&a.addClass([s],A)}}else{var s=t.previousElementSibling;!l.isNullOrUndefined(s)&&s.classList.contains(U)&&(a.removeClass([t],A),a.addClass([s],A))}},t.prototype.getHoverLI=function(){return this.presetElement.querySelector("."+A)},t.prototype.getActiveLI=function(){return this.presetElement.querySelector("."+f)},t.prototype.popupKeyBoardHandler=function(){this.popupKeyboardModule=new s.KeyboardEvents(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.popupKeyboardModule=new s.KeyboardEvents(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})},t.prototype.setScrollPosition=function(){var e=this.presetElement.getBoundingClientRect().height,t=this.presetElement.querySelector("."+A),i=this.presetElement.querySelector("."+f),s=l.isNullOrUndefined(t)?i:t;if(!l.isNullOrUndefined(s)){var a=s.nextElementSibling,n=a?a.offsetTop:s.offsetTop,r=s.getBoundingClientRect().height;n+s.offsetTop>e?this.presetElement.scrollTop=a?n-(e/2+r/2):n:this.presetElement.scrollTop=0}},t.prototype.popupKeyActionHandle=function(e){switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide()):(this.inputWrapper.container.children[1].blur(),this.iconBlurHandler());break;case"enter":this.isPopupOpen()?(this.addIconTabindex(),this.inputWrapper.container.children[1].focus()):this.show();break;case"tab":this.hide()}},t.prototype.iconBlurHandler=function(){l.isNullOrUndefined(this.inputWrapper.container.children[1])||this.removeIconTabindex(),l.isNullOrUndefined(this.popupKeyboardModule)||this.popupKeyboardModule.destroy()},t.prototype.removeIconTabindex=function(){this.inputWrapper.container.children[1].removeAttribute("tabindex")},t.prototype.addIconTabindex=function(){a.attributes(this.inputWrapper.container.children[1],{tabindex:"0"})},t.prototype.documentHandler=function(e){var t=e.target;a.closest(t,"#"+this.popupObj.element.id)||a.closest(t,".e-input-group")===this.inputWrapper.container||!l.isNullOrUndefined(this.targetElement)&&(l.isNullOrUndefined(this.targetElement)||t===this.targetElement)||this.isPopupOpen()&&(s.Browser.isDevice||(this.isRangeIconClicked=!1),this.applyFunction())},t.prototype.createInput=function(){this.inputWrapper=p.Input.createInput({element:this.inputElement,customTag:this.angularTag,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl},buttons:["e-input-group-icon e-range-icon e-icons"]}),a.attributes(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"1","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.inputElement.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true"}),p.Input.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),l.isNullOrUndefined(this.placeholder)||""===this.placeholder.trim()||p.Input.addAttributes({"aria-labelledby":this.placeholder},this.inputElement),this.inputWrapper.container.style.width=l.formatUnit(this.width),a.addClass([this.inputWrapper.container],"e-date-range-wrapper"),l.isNullOrUndefined(this.inputElement.getAttribute("name"))&&a.attributes(this.inputElement,{name:this.inputElement.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value},t.prototype.refreshControl=function(){this.validateMinMax(),this.validateDates(),this.strictMode&&this.validateRangeStrict();var e=this.disabledDates();this.strictMode&&e&&(this.setProperties({startDate:this.previousStartValue},!0),this.setProperties({endDate:this.previousEndValue},!0)),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate)||e||this.disabledDateRender(),this.errorClass(),this.previousStartValue=l.isNullOrUndefined(this.startDate)||isNaN(+this.startDate)?null:new Date(+this.startDate),this.previousEndValue=l.isNullOrUndefined(this.endDate)||isNaN(+this.endDate)?null:new Date(+this.endDate)},t.prototype.updateInput=function(){if(!l.isNullOrUndefined(this.endDate)&&!l.isNullOrUndefined(this.startDate)){var e=this.globalize.formatDate(this.startDate,{format:this.format,type:"date",skeleton:"yMd"}),t=this.globalize.formatDate(this.endDate,{format:this.format,type:"date",skeleton:"yMd"});this.inputElement.value=e+" "+this.separator+" "+t,this.previousStartValue=new Date(+this.startDate),this.previousEndValue=new Date(+this.endDate)}},t.prototype.isDateDisabled=function(e){var t=new Date(+e);if(+t<+this.min||+t>+this.max)return!0;this.virtualRenderCellArgs={date:t,isDisabled:!1};var i=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(i),!!i.isDisabled},t.prototype.disabledDateRender=function(){this.disabledDays=[],this.disabledDayCnt=null;for(var e=new Date(+this.startDate),t=0;+e<=+this.endDate;){this.virtualRenderCellArgs={date:e,isDisabled:!1};var i=this.virtualRenderCellArgs;this.virtualRenderCellEvent(i),i.isDisabled&&(this.disabledDays.push(new Date(+i.date)),+e>+this.startDate&&+e<+this.endDate&&t++),this.addDay(e,1)}this.disabledDayCnt=t},t.prototype.virtualRenderCellEvent=function(e){l.extend(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.disabledDates=function(){var e=!1,t=!1;return l.isNullOrUndefined(this.endDate)||l.isNullOrUndefined(this.startDate)||(this.value=null,e=this.isDateDisabled(this.startDate),t=this.isDateDisabled(this.endDate),this.currentDate=null,this.value=null),e||t},t.prototype.changeTrigger=function(){this.previousEleValue!==this.inputElement.value&&this.trigger("change",this.rangeArgs()),this.previousEleValue=this.inputElement.value},t.prototype.navigateTo=function(t,i){e.prototype.navigateTo.call(this,t,i)},t.prototype.destroy=function(){this.hide(),a.removeClass([this.inputElement],[m]),i.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),l.isNullOrUndefined(this.inputWrapper)||(i.EventHandler.remove(this.inputWrapper.buttons[0],"click",this.rangeIconHandler),this.inputWrapper.container.parentElement.appendChild(this.cloneElement),a.remove(this.inputWrapper.container)),l.isNullOrUndefined(this.inputKeyboardModule)||s.Browser.isDevice||this.inputKeyboardModule.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&(s.Browser.isDevice||this.clearCalendarEvents(),e.prototype.destroy.call(this)),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null},t.prototype.getModuleName=function(){return"daterangepicker"},t.prototype.getPersistData=function(){var e=["startDate","endDate"];return this.addOnPersist(e)},t.prototype.getSelectedRange=function(){var e;return l.isNullOrUndefined(this.startDate)||l.isNullOrUndefined(this.endDate)?e=0:(e=Math.round(Math.abs((this.startDate.getTime()-this.endDate.getTime())/864e5))+1,this.disabledDateRender(),l.isNullOrUndefined(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startDate,endDate:this.endDate,daySpan:e}},t.prototype.show=function(e){e&&(this.targetElement=e),this.createPopup();var t=!this.isCustomRange||s.Browser.isDevice&&this.isCustomRange;if(!l.isNullOrUndefined(this.presets)&&this.presets.length>0&&t&&this.setScrollPosition(),this.isPopupOpen()){var i={date:this.inputElement.value,model:this,element:this.popupObj.element};this.trigger("open",i),a.attributes(this.inputElement,{"aria-expanded":"true"}),s.Browser.isDevice||(this.addIconTabindex(),l.isNullOrUndefined(this.leftCalendar)||this.calendarFocus())}},t.prototype.hide=function(){if(l.isNullOrUndefined(this.previousEndValue)&&l.isNullOrUndefined(this.previousStartValue)?this.clearRange():(l.isNullOrUndefined(this.previousStartValue)?this.setProperties({startDate:null},!0):(this.setProperties({startDate:new Date(""+this.previousStartValue)},!0),this.currentDate=new Date(""+this.startDate)),l.isNullOrUndefined(this.previousEndValue)?this.setProperties({endDate:null},!0):this.setProperties({endDate:new Date(""+this.previousEndValue)},!0)),this.isPopupOpen()){var e={date:this.inputElement.value,model:this,element:this.popupObj.element};this.trigger("close",e),s.Browser.isDevice&&(l.isNullOrUndefined(this.startButton)||l.isNullOrUndefined(this.endButton)||(i.EventHandler.remove(this.startButton.element,"click",this.deviceHeaderClick),i.EventHandler.remove(this.endButton.element,"click",this.deviceHeaderClick))),this.popupObj.hide(),s.Browser.isDevice||(l.isNullOrUndefined(this.leftKeyboardModule)||l.isNullOrUndefined(this.rightKeyboardModule)||(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),l.isNullOrUndefined(this.presetElement)||this.presetKeyboardModule.destroy(),l.isNullOrUndefined(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null}a.removeClass([document.body],"e-range-overflow"),i.EventHandler.remove(document,"click",this.documentHandler),a.attributes(this.inputElement,{"aria-expanded":"false"}),s.Browser.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),this.isKeyPopup=this.dateDisabled=!1},t.prototype.resetTime=function(e){return e.setHours(0,0,0,0),e},t.prototype.onPropertyChanged=function(e,t){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(this.hide(),r){case"width":this.setProperties({width:e.width},!0),this.inputWrapper.container.style.width=l.formatUnit(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":p.Input.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":p.Input.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly);break;case"cssClass":a.addClass([this.inputWrapper.container],[e.cssClass]),this.setProperties({cssClass:e.cssClass},!0);break;case"enabled":this.setProperties({enabled:e.enabled},!0),p.Input.setEnabled(this.enabled,this.inputElement),this.bindEvents();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),p.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"format":this.setProperties({format:e.format},!0),this.updateInput(),this.changeTrigger();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new i.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),p.Input.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.changeTrigger();break;case"startDate":this.inputElement.value="",this.setProperties({startDate:e.startDate},!0),this.refreshControl(),this.changeTrigger();break;case"endDate":this.inputElement.value="",this.setProperties({endDate:e.endDate},!0),this.refreshControl(),this.changeTrigger();break;case"minDays":this.setProperties({minDays:e.minDays},!0),this.refreshControl(),this.changeTrigger();break;case"maxDays":this.setProperties({maxDays:e.maxDays},!0),this.refreshControl(),this.changeTrigger();break;case"min":this.previousEleValue=this.inputElement.value,this.setProperties({min:e.min},!0),this.refreshControl(),this.changeTrigger();break;case"max":this.setProperties({max:e.max},!0),this.refreshControl(),this.changeTrigger();break;case"strictMode":this.setProperties({strictMode:e.strictMode},!0),this.refreshControl(),this.changeTrigger();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets()}}},t}(o.Calendar);r([i.Property(null)],H.prototype,"startDate",void 0),r([i.Property(null)],H.prototype,"endDate",void 0),r([i.Property(null)],H.prototype,"presets",void 0),r([i.Property("")],H.prototype,"width",void 0),r([i.Property("")],H.prototype,"cssClass",void 0),r([i.Property("-")],H.prototype,"separator",void 0),r([i.Property(null)],H.prototype,"minDays",void 0),r([i.Property(null)],H.prototype,"maxDays",void 0),r([i.Property(!1)],H.prototype,"strictMode",void 0),r([i.Property(null)],H.prototype,"format",void 0),r([i.Property(!0)],H.prototype,"enabled",void 0),r([i.Property(!1)],H.prototype,"readonly",void 0),r([i.Property("")],H.prototype,"placeholder",void 0),r([i.Property("month")],H.prototype,"start",void 0),r([i.Property("month")],H.prototype,"depth",void 0),r([i.Property(null)],H.prototype,"value",void 0),r([s.Event()],H.prototype,"created",void 0),r([s.Event()],H.prototype,"destroyed",void 0),r([s.Event()],H.prototype,"open",void 0),r([s.Event()],H.prototype,"close",void 0),r([s.Event()],H.prototype,"change",void 0),r([s.Event()],H.prototype,"navigated",void 0),r([s.Event()],H.prototype,"select",void 0),H=r([i.NotifyPropertyChanges],H),t.DateRangePicker=H,t.daterangepickerBuilder=i.CreateBuilder(H)}.apply(t,s))&&(e.exports=a)},function(e,t){e.exports=s},function(e,t){e.exports=a},function(e,t,i){var s,a;s=[i,t,i(13)],void 0!==(a=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i)}.apply(t,s))&&(e.exports=a)},function(e,t,i){var s,a,n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),r=this&&this.__decorate||function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};s=[i,t,i(3),i(3),i(3),i(3),i(3),i(6),i(7),i(11)],void 0!==(a=function(e,t,i,s,a,l,o,h,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(new Date).getDate(),c=(new Date).getMonth(),v=(new Date).getFullYear(),m=p.cssClass.li,f=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.liCollections=[],s.timeCollections=[],s.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},s}return n(t,e),t.prototype.preRender=function(){this.cloneElement=this.element.cloneNode(!0),this.input=this.element;var e=o.getValue("ej2_instances",this.element);if(this.angularTag=null,"EJ-TIMEPICKER"===this.element.tagName){this.angularTag=this.element.tagName;var t=l.createElement("input");this.element.parentNode.appendChild(t),this.element.parentNode.removeChild(this.element),this.input=t,o.setValue("ej2_instances",e,this.input)}},t.prototype.render=function(){this.initialize(),this.createInputElement(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.setValue(this.value)},t.prototype.initialize=function(){this.globalize=new i.Internationalization(this.locale),this.defaultCulture=new i.Internationalization("en"),this.setProperties({value:this.checkDateValue(new Date(""+this.value))},!0),this.checkAttributes();var e={placeholder:this.placeholder};this.l10n=new a.L10n("timepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,this.element.getAttribute("id")?this.input.id=this.element.getAttribute("id"):(this.input.id=o.getUniqueID("ej2_timepicker"),l.attributes(this.element,{id:this.input.id})),o.isNullOrUndefined(this.input.getAttribute("name"))&&l.attributes(this.input,{name:this.input.id})},t.prototype.checkDateValue=function(e){return!o.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.createInputElement=function(){this.inputWrapper=d.Input.createInput({element:this.input,floatLabelType:this.floatLabelType,customTag:this.angularTag,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl},buttons:[" e-input-group-icon e-time-icon e-icons"]}),this.inputWrapper.container.style.width=o.formatUnit(this.width),l.attributes(this.input,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.input.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"}),this.isNullOrEmpty(this.inputStyle)||d.Input.addAttributes({style:this.inputStyle},this.input),l.addClass([this.inputWrapper.container],"e-time-wrapper")},t.prototype.destroy=function(){this.hide(),this.unBindEvents(),this.inputWrapper.container.parentElement.appendChild(this.cloneElement),l.remove(this.inputWrapper.container),e.prototype.destroy.call(this),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=[],o.isNullOrUndefined(this.rippleFn)||this.rippleFn()},t.prototype.popupCreation=function(){this.popupWrapper=l.createElement("div",{className:"e-timepicker e-popup",attrs:{id:this.input.id+"_popup",style:"visibility:hidden"}}),o.isNullOrUndefined(this.cssClass)||this.popupWrapper.classList.add(this.cssClass),!o.isNullOrUndefined(this.step)&&this.step>0&&(this.generateList(),l.append([this.listWrapper],this.popupWrapper)),document.body.appendChild(this.popupWrapper),this.addSelection(),this.renderPopup(),this.setScrollPosition()},t.prototype.getPopupHeight=function(){var e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t},t.prototype.generateList=function(){this.createListItems(),this.wireListEvents();var e={duration:300,selector:"."+m};this.rippleFn=a.rippleEffect(this.listWrapper,e),this.liCollections=this.listWrapper.querySelectorAll("."+m)},t.prototype.popupCalculation=function(){var e=0;if(s.Browser.isDevice){var t=this.isEmptyList()?this.listTag:this.liCollections[0];e=-(parseInt(getComputedStyle(t).textIndent,10)-(this.enableRtl?parseInt(getComputedStyle(this.input).paddingRight,10):parseInt(getComputedStyle(this.input).paddingLeft,10)))}return e},t.prototype.isEmptyList=function(){return!o.isNullOrUndefined(this.liCollections)&&0===this.liCollections.length||o.isNullOrUndefined(this.liCollections)},t.prototype.renderPopup=function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect();var t=s.Browser.isDevice?this.setPopupPosition():this.containerStyle.height+1;this.popupObj=new h.Popup(this.popupWrapper,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,enableRtl:this.enableRtl,offsetY:t,offsetX:this.popupCalculation(),open:function(){e.popupWrapper.style.visibility="visible",l.addClass([e.inputWrapper.buttons[0]],"e-active")},close:function(){l.removeClass([e.inputWrapper.buttons[0]],"e-active"),e.unWireListEvents(),e.input.setAttribute("aria-activedescendant","null"),l.remove(e.popupObj.element),e.popupObj.destroy(),e.popupWrapper.innerHTML="",e.listWrapper=e.popupWrapper=void 0}}),s.Browser.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"},t.prototype.getFormattedValue=function(e){return o.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e);if(this.checkDateValue(t)){var i=this.isNullOrEmpty(this.initValue)?u:this.initValue.getDate(),s=this.isNullOrEmpty(this.initValue)?c:this.initValue.getMonth(),a=this.isNullOrEmpty(this.initValue)?v:this.initValue.getFullYear();return new Date(a,s,i,t.getHours(),t.getMinutes(),t.getSeconds())}}return null},t.prototype.checkErrorState=function(e){var t=this.getDateObject(e);this.validateState(t)?(l.removeClass([this.inputWrapper.container],"e-error"),l.attributes(this.input,{"aria-invalid":"false"})):(l.addClass([this.inputWrapper.container],"e-error"),l.attributes(this.input,{"aria-invalid":"true"}))},t.prototype.validateInterval=function(){!o.isNullOrUndefined(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},t.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},t.prototype.disableElement=function(e){l.addClass(e,"e-disabled")},t.prototype.enableElement=function(e){l.removeClass(e,"e-disabled")},t.prototype.selectInputText=function(){this.input.setSelectionRange(0,this.input.value.length)},t.prototype.getSelectionDetails=function(){for(var e,t=this.input.value.split(" "),i=this.getMeridianText(),s=0,a=this.getCursorSelection(),n=0;n<t.length;n++)if(t[n]!==i.am&&t[n]!==i.pm)for(var r=t[n].split(this.getSeparator()),l=0;l<r.length;l++){if(e=s+r[l].length,a.start<=e)return{start:s,end:e};s+=r[l].length+1}else if(a.start<=s+t[n].length)return e=t[n].length+s,{start:s,end:e};return{start:s,end:e}},t.prototype.getMeridianText=function(){return"en"===this.locale||"en-US"===this.locale?o.getValue("dayPeriods.format.wide",a.getDefaultDateObject()):o.getValue("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",a.cldrData)},t.prototype.getCursorSelection=function(){var e=this.input,t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},t.prototype.getActiveElement=function(){return o.isNullOrUndefined(this.popupWrapper)?null:this.popupWrapper.querySelectorAll(".e-active")},t.prototype.isNullOrEmpty=function(e){return!!(o.isNullOrUndefined(e)||"string"==typeof e&&""===e.trim())},t.prototype.setWidth=function(){var e=o.formatUnit(this.width);if(e.indexOf("%")>-1){e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"}if(s.Browser.isDevice){var t=this.isEmptyList()?this.listTag:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.input).textIndent,10)+parseInt(getComputedStyle(this.input.parentElement).borderLeftWidth,10))+"px"}return e},t.prototype.currentTimeElement=function(e){var t=void 0;if(!o.isNullOrUndefined(this.popupWrapper)){var i=this.popupWrapper.querySelectorAll("."+m);if(i.length)for(var s=0;s<i.length;s++)if(this.timeCollections[s]>=+this.getDateObject(e)){t=i[s];break}}return t},t.prototype.setScrollPosition=function(){var e,t=this.getPopupHeight();if(e=o.isNullOrUndefined(this.value)?this.currentTimeElement(new Date):this.selectedElement,!o.isNullOrUndefined(e)){var i=e.nextElementSibling,s=i?i.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;s+e.offsetTop>t?this.popupWrapper.scrollTop=i?s-(t/2+a/2):s:this.popupWrapper.scrollTop=0}},t.prototype.getText=function(){return o.isNullOrUndefined(this.checkDateValue(this.value))?"":this.getValue(this.value)},t.prototype.getValue=function(e){return o.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?o.getValue("dateFormats.short",a.getDefaultDateObject()):this.getCultureDateObject(a.cldrData,""+this.locale)},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.format)?"en"===this.locale||"en-US"===this.locale?o.getValue("timeFormats.short",a.getDefaultDateObject()):this.getCultureTimeObject(a.cldrData,""+this.locale):this.format},t.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?o.getValue("timeFormats.medium",a.getDefaultDateObject()):o.getValue("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",a.cldrData)},t.prototype.getExactDateTime=function(e){return o.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},t.prototype.setValue=function(e){var t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.getDateObject(t):(this.initValue=this.valueWithMinutes=null,this.validateMinMax(this.value,this.min,this.max),this.disableTimeIcon()),this.updateInput(!0,this.initValue)},t.prototype.updatePlaceHolder=function(){d.Input.setPlaceholder(this.l10n.getConstant("placeholder"),this.input)},t.prototype.popupHandler=function(){this.isPopupOpen()?this.closePopup():(s.Browser.isDevice||this.input.focus(),this.show())},t.prototype.mouseDownHandler=function(){if(!this.readonly){var e=this.getCursorSelection();0===e.start&&e.end===this.input.value.length&&this.input.setSelectionRange(0,0),i.EventHandler.add(this.input,"mouseup",this.mouseUpHandler,this)}},t.prototype.mouseUpHandler=function(e){if(!this.readonly){e.preventDefault(),i.EventHandler.remove(this.input,"mouseup",this.mouseUpHandler);var t=this.getCursorSelection();0===t.start&&t.end===this.input.value.length||(this.cursorDetails=this.getSelectionDetails(),this.input.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},t.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.input.value,e),this.hide(),this.isNavigate=!1;break;case"open":this.show();break;case"escape":d.Input.setValue(this.objToString(this.value),this.input,this.floatLabelType,!1),this.previousState(this.value),this.hide();break;case"close":this.hide();break;default:this.isNavigate=!1}},t.prototype.onMouseClick=function(e){var t=e.target,i=this.selectedElement=l.closest(t,"."+m);this.setSelection(i,e),i&&i.classList.contains(m)&&this.hide()},t.prototype.closePopup=function(e){if(this.isPopupOpen()&&this.popupObj){var t={popupElement:this.popupObj};this.trigger("close",t);var a={name:"FadeOut",duration:50,delay:e||0};this.popupObj.hide(new s.Animation(a)),l.removeClass([this.inputWrapper.container],["e-icon-anim","e-input-focus"]),l.attributes(this.input,{"aria-expanded":"false"}),i.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler)}},t.prototype.checkValueChange=function(e,t){if(this.strictMode||this.validateState(this.valueWithMinutes))if(t){var i=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+i&&this.valueProcess(e,i)}else(this.prevValue!==this.input.value||o.isNullOrUndefined(this.checkDateValue(this.value)))&&this.valueProcess(e,this.getDateObject(this.input.value));else this.initValue=this.valueWithMinutes=null,this.setProperties({value:null},!0),this.prevValue=this.input.value,this.prevDate!==this.value&&this.changeEvent(e)},t.prototype.onMouseOver=function(e){var t=l.closest(e.target,"."+m);this.setHover(t,"e-hover")},t.prototype.setHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),l.addClass([e],t),"e-navigation"===t&&e.setAttribute("aria-selected","true"))},t.prototype.setSelection=function(e,t){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.checkValue(e.getAttribute("data-value")),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),l.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0))},t.prototype.onMouseLeave=function(){this.removeHover("e-hover")},t.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&s.Browser.isDevice||this.hide()},
t.prototype.validateMinMax=function(e,t,i){var s=e instanceof Date?e:this.getDateObject(e);return o.isNullOrUndefined(this.checkDateValue(t))&&(this.initMin=this.getDateObject("12:00:00 AM")),o.isNullOrUndefined(this.checkDateValue(i))&&(this.initMax=this.getDateObject("11:59:59 PM")),o.isNullOrUndefined(this.checkDateValue(s))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,s),this.checkErrorState(e),e},t.prototype.validateState=function(e){if(!this.strictMode){var t=this.setCurrentDate(this.getDateObject(e)),i=this.setCurrentDate(this.getDateObject(this.initMax)),s=this.setCurrentDate(this.getDateObject(this.initMin));if(o.isNullOrUndefined(this.checkDateValue(t))){if(+i<+s||""!==this.input.value)return!1}else if(+t>+i||+t<+s)return!1}return!0},t.prototype.strictOperation=function(e,t,i,s){var a=this.createDateObj(this.getFormattedValue(t)),n=this.createDateObj(this.getFormattedValue(e)),r=this.createDateObj(this.getFormattedValue(s));if(this.strictMode){if(+n>+a)return this.disableTimeIcon(),this.initValue=this.getDateObject(a),d.Input.setValue(this.getValue(this.initValue),this.input,this.floatLabelType,!1),this.input.value;if(+n>=+r)return this.getDateObject(n);if(+r>=+a||+n==+a)return this.getDateObject(a)}else if(+n>+a&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))))return i;return i},t.prototype.bindEvents=function(){i.EventHandler.add(this.inputWrapper.buttons[0],"click",this.popupHandler,this),i.EventHandler.add(this.input,"blur",this.focusOut,this),i.EventHandler.add(this.input,"focus",this.focusIn,this),s.Browser.isDevice||(this.inputEvent=new s.KeyboardEvents(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),i.EventHandler.add(this.input,"mousedown",this.mouseDownHandler,this))},t.prototype.unBindEvents=function(){i.EventHandler.remove(this.inputWrapper.buttons[0],"click",this.popupHandler),i.EventHandler.remove(this.input,"blur",this.focusOut),i.EventHandler.remove(this.input,"focus",this.focusIn),this.inputEvent&&this.inputEvent.destroy(),i.EventHandler.remove(this.input,"mousedown",this.mouseDownHandler)},t.prototype.checkAttributes=function(){for(var e,t=["step","disabled","readonly","style","name","value","min","max","placeholder"],i=0,s=t;i<s.length;i++){var a=s[i];if(!o.isNullOrUndefined(this.input.getAttribute(a)))switch(a){case"disabled":var n=o.isNullOrUndefined(this.input.getAttribute(a));this.setProperties({enabled:n},!0);break;case"readonly":var r=!o.isNullOrUndefined(this.input.getAttribute(a));this.setProperties({readonly:r},!0);break;case"style":this.inputStyle=this.input.getAttribute(a);break;case"name":this.input.setAttribute("name",this.input.getAttribute(a));break;case"step":this.step=parseInt(this.input.getAttribute(a),10);break;case"placeholder":this.placeholder=this.input.getAttribute(a);break;case"min":e=new Date(this.input.getAttribute(a)),o.isNullOrUndefined(this.checkDateValue(e))||this.setProperties({min:e},!0);break;case"max":e=new Date(this.input.getAttribute(a)),o.isNullOrUndefined(this.checkDateValue(e))||this.setProperties({max:e},!0);break;case"value":e=new Date(this.input.getAttribute(a)),o.isNullOrUndefined(this.checkDateValue(e))||(this.initValue=e,this.updateInput(!1,this.initValue))}}},t.prototype.setCurrentDate=function(e){return o.isNullOrUndefined(this.checkDateValue(e))?null:new Date(v,c,u,e.getHours(),e.getMinutes(),e.getSeconds())},t.prototype.getSeparator=function(){var e="",t=this.cldrTimeFormat().split(" ")[this.getTextFormat()];o.isNullOrUndefined(t)&&(0===this.cldrTimeFormat().indexOf("a")?t="a "+this.cldrTimeFormat().split("a")[1]:this.cldrTimeFormat().indexOf("a")===this.cldrTimeFormat().length-1&&(t=this.cldrTimeFormat().split("a")[0]+" a"));for(var i=new RegExp("^[a-zA-Z0-9]+$"),s=0;s<t.length;s++)i.test(t.charAt(s))||(e=t.charAt(s));return e},t.prototype.getTextFormat=function(){var e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var t=this.cldrTimeFormat().split(" "),i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf("h")>=0){e=i;break}return e},t.prototype.updateValue=function(e,t){var i;if(this.isNullOrEmpty(e))this.resetState();else if(i=this.checkValue(e),this.strictMode){var s=null===i&&e.trim().length>0?this.previousState(this.prevDate):this.input.value;d.Input.setValue(s,this.input,this.floatLabelType,!1)}this.checkValueChange(t,"string"!=typeof e)},t.prototype.previousState=function(e){for(var t=this.getDateObject(e),i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.prevValue},t.prototype.resetState=function(){this.removeSelection(),d.Input.setValue("",this.input,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},t.prototype.objToString=function(e){return o.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.checkValue=function(e){if(!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null},t.prototype.validateValue=function(e,t){var i,s=this.validateMinMax(t,this.min,this.max),a=this.createDateObj(s);return this.getFormattedValue(a)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=o.isNullOrUndefined(a)?null:a,i=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=a),this.valueWithMinutes=this.checkDateValue(e),i=this.objToString(this.valueWithMinutes)),!this.strictMode&&o.isNullOrUndefined(i)?d.Input.setValue(s.trim().length>0?s:"",this.input,this.floatLabelType,!1):d.Input.setValue(i,this.input,this.floatLabelType,!1),i},t.prototype.findNextElement=function(e){var t=this.input.value,i=o.isNullOrUndefined(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),s=null;0===this.timeCollections.length&&(this.popupCreation(),this.popupObj.hide());var a=this.liCollections.length;if(o.isNullOrUndefined(this.checkDateValue(i))&&o.isNullOrUndefined(this.activeIndex))this.activeIndex=0,this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(this.timeCollections[0]));else{if("home"===e.action)s=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)s=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action)for(var n=0;n<a;n++){if(+i<this.timeCollections[n]){s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}if(n===a-1){s=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;break}}else for(var n=a-1;n>=0;n--){if(+i>this.timeCollections[n]){s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}if(0===n){s=+this.createDateObj(new Date(this.timeCollections[a-1])),this.activeIndex=a-1;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(o.isNullOrUndefined(s)?null:new Date(s))}},t.prototype.elementValue=function(e){o.isNullOrUndefined(this.checkDateValue(e))||this.checkValue(e)},t.prototype.keyHandler=function(e){if(!(o.isNullOrUndefined(this.step)||this.step<=0)){var t=this.timeCollections.length;if(o.isNullOrUndefined(this.getActiveElement())||0===this.getActiveElement().length)this.liCollections.length>0&&o.isNullOrUndefined(this.value)&&o.isNullOrUndefined(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.elementValue(new Date(this.timeCollections[0]))):this.findNextElement(e);else{var i=void 0;if(e.keyCode>=37&&e.keyCode<=40){var s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=s=this.activeIndex===t?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?t-1:this.activeIndex,i=o.isNullOrUndefined(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]}else"home"===e.action?(this.activeIndex=0,i=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,i=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(i))}this.isNavigate=!0,this.setHover(this.selectedElement,"e-navigation"),this.setActiveDescendant(),this.selectInputText(),!this.isPopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setScrollPosition()}},t.prototype.setPopupPosition=function(){var e,t=this.getPopupHeight(),i=this.getActiveElement(),s=this.liCollections[0].getBoundingClientRect().height,a=t/2,n=0===i.length?this.liCollections[0].offsetTop:i[0].offsetTop,r=this.liCollections[this.liCollections.length-1].offsetTop,l=parseInt(getComputedStyle(this.listTag).paddingTop,10);if(r-a<n){e=(t/s-(this.liCollections.length-this.activeIndex))*s-l-2}else e=n+s>a?a-s/2:n;return-(e=e+2+(s-this.containerStyle.height)/2)},t.prototype.getCultureTimeObject=function(e,t){return o.getValue("main."+t+".dates.calendars.gregorian.timeFormats.short",e)},t.prototype.getCultureDateObject=function(e,t){return o.getValue("main."+t+".dates.calendars.gregorian.dateFormats.short",e)},t.prototype.wireListEvents=function(){i.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),s.Browser.isDevice||(i.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),i.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){i.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),s.Browser.isDevice||(i.EventHandler.remove(this.listWrapper,"mouseover",this.onMouseOver),i.EventHandler.remove(this.listWrapper,"mouseout",this.onMouseLeave))},t.prototype.valueProcess=function(e,t){var i=o.isNullOrUndefined(this.checkDateValue(t))?null:t;+this.prevDate!=+i&&(this.initValue=i,this.changeEvent(e))},t.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);var t={e:e,value:this.value,text:this.input.value,isInteracted:!o.isNullOrUndefined(e)};this.trigger("change",t)},t.prototype.updateInput=function(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,this.setProperties({value:t},!0)},t.prototype.setActiveDescendant=function(){o.isNullOrUndefined(this.selectedElement)?l.attributes(this.input,{"aria-activedescendant":"null"}):l.attributes(this.input,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},t.prototype.removeSelection=function(){if(this.removeHover("e-hover"),!o.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll(".e-active");e.length&&(l.removeClass(e,"e-active"),e[0].removeAttribute("aria-selected"))}},t.prototype.removeHover=function(e){var t=this.getHoverItem(e);t&&t.length&&(l.removeClass(t,e),"e-navigation"===e&&t[0].removeAttribute("aria-selected"))},t.prototype.getHoverItem=function(e){var t;return o.isNullOrUndefined(this.popupWrapper)||(t=this.popupWrapper.querySelectorAll("."+e)),t},t.prototype.setActiveClass=function(){if(!o.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+m);if(e.length)for(var t=0;t<e.length;t++)if(this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}},t.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),o.isNullOrUndefined(this.selectedElement)||(l.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.isValidLI=function(e){return e&&e.classList.contains(m)&&!e.classList.contains("e-disabled")},t.prototype.createDateObj=function(e){var t=this.globalize.formatDate(new Date,{skeleton:"short",type:"date"}),i=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(t=this.defaultCulture.formatDate(new Date,{skeleton:"short",type:"date"}),i=isNaN(+new Date(t+" "+e))?null:new Date(new Date(t+" "+e).setMilliseconds(0)),o.isNullOrUndefined(i)&&(i=this.TimeParse(t,e))):i=this.TimeParse(t,e):e instanceof Date&&(i=e),i},t.prototype.TimeParse=function(e,t){var i;return i=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),i=o.isNullOrUndefined(i)?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):i,i=o.isNullOrUndefined(i)?i:new Date(i.setMilliseconds(0))},t.prototype.createListItems=function(){this.listWrapper=l.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});var e,t,i=6e4*this.step,s=[];for(this.timeCollections=[],e=+this.getDateObject(this.initMin).setMilliseconds(0),t=+this.getDateObject(this.initMax).setMilliseconds(0);t>=e;)this.timeCollections.push(e),s.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=i;this.listTag=p.ListBase.createList(s,null,!0),l.attributes(this.listTag,{role:"listbox","aria-hidden":"false",id:this.input.id+"_options"}),l.append([this.listTag],this.listWrapper)},t.prototype.documentClickHandler=function(e){var t=e.target;l.closest(t,"#"+this.popupObj.element.id)||t===this.input||t===this.inputWrapper.buttons[0]||t===this.inputWrapper.container?t!==this.input&&(s.Browser.isDevice||(this.isPreventBlur=(s.Browser.isIE||"edge"===s.Browser.info.name)&&document.activeElement===this.input,e.preventDefault())):this.isPopupOpen()&&this.hide()},t.prototype.setEnableRtl=function(){d.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){d.Input.setEnabled(this.enabled,this.input,this.floatLabelType),this.enabled?(l.removeClass([this.inputWrapper.container],"e-disabled"),l.attributes(this.input,{"aria-disabled":"false"})):(this.hide(),l.addClass([this.inputWrapper.container],"e-disabled"),l.attributes(this.input,{"aria-disabled":"true"}))},t.prototype.getProperty=function(e,t){"min"===t?(this.initMin=e.min,this.setProperties({min:this.initMin},!0)):(this.initMax=e.max,this.setProperties({max:this.initMax},!0)),""===this.input.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.input.value),this.checkValueChange(null,!1)},t.prototype.focusOut=function(){if(this.isPreventBlur&&this.isPopupOpen())return void this.input.focus();this.closePopup(),this.input.blur(),this.trigger("blur"),this.getText()!==this.input.value?this.updateValue(this.input.value,null):0===this.input.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1},t.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-timepicker"))},t.prototype.focusIn=function(){this.input.focus(),this.readonly||s.Browser.isDevice||this.selectInputText(),this.trigger("focus")},t.prototype.hide=function(){this.closePopup(100)},t.prototype.show=function(){if(!this.isPopupOpen()&&this.enabled&&!this.readonly&&!this.inputWrapper.buttons[0].classList.contains("e-disabled")){this.popupCreation();var e={popupElement:this.popupObj};this.trigger("open",e);var t={name:"FadeIn",duration:50};this.popupObj.show(new s.Animation(t)),l.addClass([this.inputWrapper.container],["e-icon-anim","e-input-focus"]),this.setActiveDescendant(),l.attributes(this.input,{"aria-expanded":"true"}),i.EventHandler.add(document,"mousedown touchstart",this.documentClickHandler,this)}},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.getModuleName=function(){return"timepicker"},t.prototype.onPropertyChanged=function(e,t){for(var s=0,a=Object.keys(e);s<a.length;s++){var n=a[s];switch(n){case"placeholder":d.Input.setPlaceholder(e.placeholder,this.input),this.input.setAttribute("aria-placeholder",e.placeholder);break;case"readonly":d.Input.setReadonly(this.readonly,this.input,this.floatLabelType),this.readonly&&this.hide();break;case"cssClass":l.addClass([this.inputWrapper.container],[e.cssClass]),l.addClass([this.popupWrapper],[e.cssClass]),this.setProperties({cssClass:e.cssClass},!0);break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"min":case"max":this.getProperty(e,n);break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new i.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value);break;case"width":l.setStyleAttribute(this.inputWrapper.container,{width:o.formatUnit(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:e.format},!0),this.setValue(this.value);break;case"value":this.initValue=e.value,this.checkValue(e.value),this.checkValueChange(null,!1);break;case"strictMode":e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.input.value),this.checkValueChange(null,!1)}}},t}(a.Component);r([i.Property("100%")],f.prototype,"width",void 0),r([i.Property(null)],f.prototype,"cssClass",void 0),r([i.Property(!1)],f.prototype,"strictMode",void 0),r([i.Property(null)],f.prototype,"format",void 0),r([i.Property(!0)],f.prototype,"enabled",void 0),r([i.Property(!1)],f.prototype,"readonly",void 0),r([i.Property("Never")],f.prototype,"floatLabelType",void 0),r([i.Property(null)],f.prototype,"placeholder",void 0),r([i.Property(30)],f.prototype,"step",void 0),r([i.Property(null)],f.prototype,"value",void 0),r([i.Property(null)],f.prototype,"min",void 0),r([i.Property(null)],f.prototype,"max",void 0),r([i.Property(!1)],f.prototype,"enableRtl",void 0),r([a.Event()],f.prototype,"change",void 0),r([a.Event()],f.prototype,"created",void 0),r([a.Event()],f.prototype,"destroyed",void 0),r([a.Event()],f.prototype,"open",void 0),r([a.Event()],f.prototype,"close",void 0),r([a.Event()],f.prototype,"blur",void 0),r([a.Event()],f.prototype,"focus",void 0),f=r([i.NotifyPropertyChanges],f),t.TimePicker=f}.apply(t,s))&&(e.exports=a)}])});
//# sourceMappingURL=ej2-calendars.umd.min.js.map
